<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker (Podman) MySQL | Memos</title>
<meta name=keywords content="MySQL,Podman"><meta name=description content="Docker 安装、启动 MySQL"><meta name=author content="HCY"><link rel=canonical href=https://hcy-asleep.github.io/Docker-Podman-MySQL/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bf546705000388ff8f0176e72d11be7c3d4efd591a0430f9c62915164a160ae2.css integrity="sha256-v1RnBQADiP+PAXbnLRG+fD1O/VkaBDD5xikVFkoWCuI=" rel="preload stylesheet" as=style><link rel=icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=apple-touch-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=mask-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://hcy-asleep.github.io/Docker-Podman-MySQL/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@media screen and (min-width:1px){.post-content input[type=checkbox]:checked~label>img{transform:scale(1.6);cursor:zoom-out;position:relative;z-index:999}.post-content img.zoomCheck{transition:transform .15s ease;z-index:999;cursor:zoom-in}}</style><meta property="og:title" content="Docker (Podman) MySQL"><meta property="og:description" content="Docker 安装、启动 MySQL"><meta property="og:type" content="article"><meta property="og:url" content="https://hcy-asleep.github.io/Docker-Podman-MySQL/"><meta property="og:image" content="https://hcy-asleep.github.io/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-02-11T13:27:00+00:00"><meta property="article:modified_time" content="2023-02-11T13:27:00+00:00"><meta property="og:site_name" content="HCY-BLOGS"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hcy-asleep.github.io/"><meta name=twitter:title content="Docker (Podman) MySQL"><meta name=twitter:description content="Docker 安装、启动 MySQL"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hcy-asleep.github.io/post/"},{"@type":"ListItem","position":2,"name":"Docker (Podman) MySQL","item":"https://hcy-asleep.github.io/Docker-Podman-MySQL/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker (Podman) MySQL","name":"Docker (Podman) MySQL","description":"Docker 安装、启动 MySQL","keywords":["MySQL","Podman"],"articleBody":" 在docker仓库中搜索mysql的镜像\n1 docker search mysql 下载镜像\n1 docker pull mysql 启动\n参数 -p 设置端口，–name 取名 ，-e MYSQL_ROOT_PASSWORD=123456 设置 账号为 root ，密码为 123456 ，-d 表示作为一个守护进程在后台运行\n1 docker run -p 3306:3306 --name JY_mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql 宿主机连接docker中的mysql\n错误的连接方式\n1 2 3 4 5 $ mysql -u root -p Enter password: ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2) # 可以看出这样会报错 正确的连接方式\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 $ mysql -h 127.0.0.1 -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 9 Server version: 5.7.26 MySQL Community Server (GPL) Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql\u003e 在docker容器中连接宿主机中的mysql\n查看宿主机和docker之间的桥接ip\n1 2 3 4 5 6 7 8 9 10 11 12 $ ifconfig docker0: flags=4163\u0026lt;UP,BROADCAST,RUNNING,MULTICAST\u0026gt; mtu 1500 inet 172.17.0.1 netmask 255.255.0.0 broadcast 172.17.255.255 inet6 fe80::42:8aff:febc:8533 prefixlen 64 scopeid 0x20\u0026lt;link\u0026gt; ether 02:42:8a:bc:85:33 txqueuelen 0 (以太网) RX packets 4779 bytes 11624681 (11.6 MB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 6006 bytes 441594 (441.5 KB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 # 宿主机在与容器同一局域网的IP地址一般是docker0对应的IP地址段的首个地址 即（172.17.0.1 ） 在容器中连接宿主机的mysql\n1 $ mysql -h 172.17.0.1 -u root -p ","wordCount":"243","inLanguage":"zh","image":"https://hcy-asleep.github.io/","datePublished":"2023-02-11T13:27:00Z","dateModified":"2023-02-11T13:27:00Z","author":{"@type":"Person","name":"HCY"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hcy-asleep.github.io/Docker-Podman-MySQL/"},"publisher":{"@type":"Organization","name":"Memos","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://hcy-asleep.github.io/ accesskey=h title="主页 (Alt + H)">主页</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://hcy-asleep.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://hcy-asleep.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://hcy-asleep.github.io/categories/ title=目录><span>目录</span></a></li><li><a href=https://hcy-asleep.github.io/friends/ title=友链><span>友链</span></a></li><li><a href=https://hcy-asleep.github.io/todo/ title=TODO><span>TODO</span></a></li><li><a href=https://hcy-asleep.github.io/about/ title=关于><span>关于</span></a></li><li><a href=https://hcy-asleep.github.io/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hcy-asleep.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://hcy-asleep.github.io/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Docker (Podman) MySQL</h1><div class=post-description>Docker 安装、启动 MySQL</div><div class=post-meta><span title='2023-02-11 13:27:00 +0000 UTC'>二月 11, 2023</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;243 字&nbsp;·&nbsp;HCY&nbsp;|&nbsp;<a href=https://github.com/HCY-ASLEEP rel="noopener noreferrer" target=_blank> Follow me</a></div></header><div class=post-content><ol><li><p>在docker仓库中搜索mysql的镜像</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker search mysql  
</span></span></code></pre></td></tr></table></div></div></li><li><p>下载镜像</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker pull mysql
</span></span></code></pre></td></tr></table></div></div></li><li><p>启动</p><ul><li><p>参数 -p 设置端口，&ndash;name 取名 ，-e MYSQL_ROOT_PASSWORD=123456 设置 账号为 root ，密码为 123456 ，-d 表示作为一个守护进程在后台运行</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -p 3306:3306 --name JY_mysql -e <span class=nv>MYSQL_ROOT_PASSWORD</span><span class=o>=</span><span class=m>123456</span> -d mysql 
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>宿主机连接docker中的mysql</p><ul><li><p>错误的连接方式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mysql -u root -p
</span></span><span class=line><span class=cl>Enter password: 
</span></span><span class=line><span class=cl>ERROR <span class=m>2002</span> <span class=o>(</span>HY000<span class=o>)</span>: Can<span class=s1>&#39;t connect to local MySQL server through socket 
</span></span></span><span class=line><span class=cl><span class=s1>&#39;</span>/var/run/mysqld/mysqld.sock<span class=err>&#39;</span> <span class=o>(</span>2<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=c1># 可以看出这样会报错     </span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>正确的连接方式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mysql -h 127.0.0.1 -u root -p
</span></span><span class=line><span class=cl>Enter password: 
</span></span><span class=line><span class=cl>Welcome to the MySQL monitor.  Commands end with <span class=p>;</span> or <span class=se>\g</span>.
</span></span><span class=line><span class=cl>Your MySQL connection id is <span class=m>9</span>
</span></span><span class=line><span class=cl>Server version: 5.7.26 MySQL Community Server <span class=o>(</span>GPL<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Copyright <span class=o>(</span>c<span class=o>)</span> 2000, 2019, Oracle and/or its affiliates. All rights reserved.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Oracle is a registered trademark of Oracle Corporation and/or its
</span></span><span class=line><span class=cl>affiliates. Other names may be trademarks of their respective
</span></span><span class=line><span class=cl>owners.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Type <span class=s1>&#39;help;&#39;</span> or <span class=s1>&#39;\h&#39;</span> <span class=k>for</span> help. Type <span class=s1>&#39;\c&#39;</span> to clear the current input statement.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>mysql&gt; 
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>在docker容器中连接宿主机中的mysql</p><ul><li><p>查看宿主机和docker之间的桥接ip</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ifconfig
</span></span><span class=line><span class=cl>docker0: <span class=nv>flags</span><span class=o>=</span>4163<span class=p>&amp;</span>lt<span class=p>;</span>UP,BROADCAST,RUNNING,MULTICAST<span class=p>&amp;</span>gt<span class=p>;</span>  mtu <span class=m>1500</span>
</span></span><span class=line><span class=cl>        inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255
</span></span><span class=line><span class=cl>        inet6 fe80::42:8aff:febc:8533  prefixlen <span class=m>64</span>  scopeid 0x20<span class=p>&amp;</span>lt<span class=p>;</span>link<span class=p>&amp;</span>gt<span class=p>;</span>
</span></span><span class=line><span class=cl>        ether 02:42:8a:bc:85:33  txqueuelen <span class=m>0</span>  <span class=o>(</span>以太网<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX packets <span class=m>4779</span>  bytes <span class=m>11624681</span> <span class=o>(</span>11.6 MB<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX errors <span class=m>0</span>  dropped <span class=m>0</span>  overruns <span class=m>0</span>  frame <span class=m>0</span>
</span></span><span class=line><span class=cl>        TX packets <span class=m>6006</span>  bytes <span class=m>441594</span> <span class=o>(</span>441.5 KB<span class=o>)</span>
</span></span><span class=line><span class=cl>        TX errors <span class=m>0</span>  dropped <span class=m>0</span> overruns <span class=m>0</span>  carrier <span class=m>0</span>  collisions <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 宿主机在与容器同一局域网的IP地址一般是docker0对应的IP地址段的首个地址</span>
</span></span><span class=line><span class=cl>即（172.17.0.1 ）
</span></span></code></pre></td></tr></table></div></div></li><li><p>在容器中连接宿主机的mysql</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mysql -h 172.17.0.1 -u root -p
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://hcy-asleep.github.io/tags/MySQL/>MySQL</a></li><li><a href=https://hcy-asleep.github.io/tags/Podman/>Podman</a></li></ul><nav class=paginav><a class=prev href=https://hcy-asleep.github.io/Podman-%E7%99%BB%E5%BD%95%E8%84%9A%E6%9C%AC/><span class=title>« 上一页</span><br><span>Podman 登录脚本</span>
</a><a class=next href=https://hcy-asleep.github.io/VIM-%E9%95%BF%E8%A1%8Chan%E6%85%A2/><span class=title>下一页 »</span><br><span>VIM 长行(han)慢</span></a></nav></footer></br></br><script src=https://giscus.app/client.js data-repo=HCY-ASLEEP/HCY-ASLEEP.github.io data-repo-id=R_kgDOISFjNg data-category=Announcements data-category-id=DIC_kwDOISFjNs4CUJyb data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://hcy-asleep.github.io/>Memos</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>