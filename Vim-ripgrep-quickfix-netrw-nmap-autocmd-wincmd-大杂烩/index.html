<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vim ripgrep quickfix netrw nmap autocmd wincmd ã€‚ã€‚ã€‚å¤§æ‚çƒ© ï¼Ÿï¼ | Memos</title>
<meta name=keywords content="VIM"><meta name=description content="å•Šï¼Œè¿™ç¯‡æ–‡ç« å°±éšæ„ä¸€ç‚¹å§ï¼Œå°±æ„è¯†æµåœ°å†™å§ï¼ˆè™½ç„¶ä¸€ç›´éƒ½æ˜¯è¿™æ ·å­ï¼‰ï¼Œè®°å½•ä¸€ä¸‹æœ€è¿‘æ Neovim çš„å¿ƒå¾—
1. å¦‚ä½•ä½¿ç”¨ nvim + coc å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿ ä½¿ç”¨ nvim + coc ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¼¹å‡ºæ¥çš„æ‚¬æµ®çª—å£å†…æœ‰æ»šåŠ¨æ¡ï¼Œæˆ‘æ€æ ·æ‰èƒ½æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿè¯•è¯• ctrl-w ctrl-w åˆ‡æ¢åˆ° floatwin ä¸­ï¼Œå†ç¿»é¡µï¼›æ›´é¡ºæ‰‹ä¸€äº›çš„æ“ä½œæ˜¯ï¼šå¦‚æœè§¦å‘ floatwin çš„æŒ‰é”®æ˜¯ nmap K, è¿æŒ‰ä¸¤æ¬¡ K å°±ä¼šåˆ‡æ¢åˆ° floatwin ä¸­
ğŸ‘‰ https://segmentfault.com/q/1010000040349668
æˆ–è€…ç›´æ¥æ˜ å°„ç›¸å…³çš„é”®ä½ï¼Œå‚è€ƒå®˜æ–¹ Github çš„ Readme
ğŸ‘‰ https://github.com/neoclide/coc.nvim/commit/
2. Vim få’Œtçš„å¿«æ·æ–¹å¼ [ ç§»åŠ¨åˆ°æŒ‡å®šå­—ç¬¦ ]
å¦‚æœæˆ‘ä»¬æƒ³åœ¨å½“å‰è¡Œå†…å¿«é€Ÿç§»åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨f, t, F, Tå‘½ä»¤
&ldquo;f&#34;å‘½ä»¤ç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Šï¼Œä¾‹å¦‚ï¼Œ&ldquo;fx&rdquo;ï¼Œä¼šæŠŠç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Šï¼Œ&ldquo;F&#34;å‘½ä»¤åˆ™åæ–¹å‘æŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Š
&ldquo;t&#34;å‘½ä»¤å’Œ&#34;f&#34;å‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å‰ï¼Œä¾‹å¦‚ï¼Œ&ldquo;tx&#34;ä¼šç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦çš„å‰é¢ï¼Œ&ldquo;T&#34;å‘½ä»¤æ˜¯&#34;t&#34;å‘½ä»¤çš„åå‘ç‰ˆæœ¬ï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å
è¿™å››ä¸ªå‘½ä»¤åªåœ¨å½“å‰è¡Œä¸­ç§»åŠ¨å…‰æ ‡ï¼Œå…‰æ ‡ä¸ä¼šè·¨è¶Šå›è½¦æ¢è¡Œç¬¦
å¯ä»¥åœ¨å‘½ä»¤å‰é¢ä½¿ç”¨æ•°å­—ï¼Œè¡¨ç¤ºå€æ•°ï¼Œä¾‹å¦‚ï¼Œ&ldquo;3fx&#34;è¡¨ç¤ºç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬3ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Š
&ldquo;;&ldquo;å‘½ä»¤é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè€Œ&rdquo;,&ldquo;å‘½ä»¤ä¼šåæ–¹å‘é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤å‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥è¡¨ç¤ºå€æ•°
ğŸ‘‰ https://www.jianshu.com/p/a46a89b460a9
3. å¦‚ä½•åœ¨ Vim é‡Œé¢ä½¿ç”¨ ripgrep ï¼Ÿ å…³äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼š
ä½¿ç”¨ Vim é‡Œé¢è‡ªå¸¦çš„ quickfix"><meta name=author content="HCY"><link rel=canonical href=https://hcy-asleep.github.io/Vim-ripgrep-quickfix-netrw-nmap-autocmd-wincmd-%E5%A4%A7%E6%9D%82%E7%83%A9/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.b84268f0249a7ffe249d259a826d86a70cb7c15d5b386c020927a792f30b1070.css integrity="sha256-uEJo8CSaf/4knSWagm2Gpwy3wV1bOGwCCSenkvMLEHA=" rel="preload stylesheet" as=style><link rel=icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=apple-touch-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=mask-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@media screen and (min-width:1px){.post-content input[type=checkbox]:checked~label>img{transform:scale(1.6);cursor:zoom-out;position:relative;z-index:999}.post-content img.zoomCheck{transition:transform .15s ease;z-index:999;cursor:zoom-in}}</style><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Vim ripgrep quickfix netrw nmap autocmd wincmd ã€‚ã€‚ã€‚å¤§æ‚çƒ© ï¼Ÿï¼"><meta property="og:description" content="å•Šï¼Œè¿™ç¯‡æ–‡ç« å°±éšæ„ä¸€ç‚¹å§ï¼Œå°±æ„è¯†æµåœ°å†™å§ï¼ˆè™½ç„¶ä¸€ç›´éƒ½æ˜¯è¿™æ ·å­ï¼‰ï¼Œè®°å½•ä¸€ä¸‹æœ€è¿‘æ Neovim çš„å¿ƒå¾—
1. å¦‚ä½•ä½¿ç”¨ nvim + coc å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿ ä½¿ç”¨ nvim + coc ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¼¹å‡ºæ¥çš„æ‚¬æµ®çª—å£å†…æœ‰æ»šåŠ¨æ¡ï¼Œæˆ‘æ€æ ·æ‰èƒ½æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿè¯•è¯• ctrl-w ctrl-w åˆ‡æ¢åˆ° floatwin ä¸­ï¼Œå†ç¿»é¡µï¼›æ›´é¡ºæ‰‹ä¸€äº›çš„æ“ä½œæ˜¯ï¼šå¦‚æœè§¦å‘ floatwin çš„æŒ‰é”®æ˜¯ nmap K, è¿æŒ‰ä¸¤æ¬¡ K å°±ä¼šåˆ‡æ¢åˆ° floatwin ä¸­
ğŸ‘‰ https://segmentfault.com/q/1010000040349668
æˆ–è€…ç›´æ¥æ˜ å°„ç›¸å…³çš„é”®ä½ï¼Œå‚è€ƒå®˜æ–¹ Github çš„ Readme
ğŸ‘‰ https://github.com/neoclide/coc.nvim/commit/
2. Vim få’Œtçš„å¿«æ·æ–¹å¼ [ ç§»åŠ¨åˆ°æŒ‡å®šå­—ç¬¦ ]
å¦‚æœæˆ‘ä»¬æƒ³åœ¨å½“å‰è¡Œå†…å¿«é€Ÿç§»åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨f, t, F, Tå‘½ä»¤
&ldquo;f&#34;å‘½ä»¤ç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Šï¼Œä¾‹å¦‚ï¼Œ&ldquo;fx&rdquo;ï¼Œä¼šæŠŠç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Šï¼Œ&ldquo;F&#34;å‘½ä»¤åˆ™åæ–¹å‘æŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Š
&ldquo;t&#34;å‘½ä»¤å’Œ&#34;f&#34;å‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å‰ï¼Œä¾‹å¦‚ï¼Œ&ldquo;tx&#34;ä¼šç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦çš„å‰é¢ï¼Œ&ldquo;T&#34;å‘½ä»¤æ˜¯&#34;t&#34;å‘½ä»¤çš„åå‘ç‰ˆæœ¬ï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å
è¿™å››ä¸ªå‘½ä»¤åªåœ¨å½“å‰è¡Œä¸­ç§»åŠ¨å…‰æ ‡ï¼Œå…‰æ ‡ä¸ä¼šè·¨è¶Šå›è½¦æ¢è¡Œç¬¦
å¯ä»¥åœ¨å‘½ä»¤å‰é¢ä½¿ç”¨æ•°å­—ï¼Œè¡¨ç¤ºå€æ•°ï¼Œä¾‹å¦‚ï¼Œ&ldquo;3fx&#34;è¡¨ç¤ºç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬3ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Š
&ldquo;;&ldquo;å‘½ä»¤é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè€Œ&rdquo;,&ldquo;å‘½ä»¤ä¼šåæ–¹å‘é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤å‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥è¡¨ç¤ºå€æ•°
ğŸ‘‰ https://www.jianshu.com/p/a46a89b460a9
3. å¦‚ä½•åœ¨ Vim é‡Œé¢ä½¿ç”¨ ripgrep ï¼Ÿ å…³äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼š
ä½¿ç”¨ Vim é‡Œé¢è‡ªå¸¦çš„ quickfix"><meta property="og:type" content="article"><meta property="og:url" content="https://hcy-asleep.github.io/Vim-ripgrep-quickfix-netrw-nmap-autocmd-wincmd-%E5%A4%A7%E6%9D%82%E7%83%A9/"><meta property="og:image" content="https://hcy-asleep.github.io/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-05-24T13:51:22+08:00"><meta property="article:modified_time" content="2023-05-24T13:51:22+08:00"><meta property="og:site_name" content="HCY-BLOGS"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hcy-asleep.github.io/"><meta name=twitter:title content="Vim ripgrep quickfix netrw nmap autocmd wincmd ã€‚ã€‚ã€‚å¤§æ‚çƒ© ï¼Ÿï¼"><meta name=twitter:description content="å•Šï¼Œè¿™ç¯‡æ–‡ç« å°±éšæ„ä¸€ç‚¹å§ï¼Œå°±æ„è¯†æµåœ°å†™å§ï¼ˆè™½ç„¶ä¸€ç›´éƒ½æ˜¯è¿™æ ·å­ï¼‰ï¼Œè®°å½•ä¸€ä¸‹æœ€è¿‘æ Neovim çš„å¿ƒå¾—
1. å¦‚ä½•ä½¿ç”¨ nvim + coc å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿ ä½¿ç”¨ nvim + coc ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¼¹å‡ºæ¥çš„æ‚¬æµ®çª—å£å†…æœ‰æ»šåŠ¨æ¡ï¼Œæˆ‘æ€æ ·æ‰èƒ½æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿè¯•è¯• ctrl-w ctrl-w åˆ‡æ¢åˆ° floatwin ä¸­ï¼Œå†ç¿»é¡µï¼›æ›´é¡ºæ‰‹ä¸€äº›çš„æ“ä½œæ˜¯ï¼šå¦‚æœè§¦å‘ floatwin çš„æŒ‰é”®æ˜¯ nmap K, è¿æŒ‰ä¸¤æ¬¡ K å°±ä¼šåˆ‡æ¢åˆ° floatwin ä¸­
ğŸ‘‰ https://segmentfault.com/q/1010000040349668
æˆ–è€…ç›´æ¥æ˜ å°„ç›¸å…³çš„é”®ä½ï¼Œå‚è€ƒå®˜æ–¹ Github çš„ Readme
ğŸ‘‰ https://github.com/neoclide/coc.nvim/commit/
2. Vim få’Œtçš„å¿«æ·æ–¹å¼ [ ç§»åŠ¨åˆ°æŒ‡å®šå­—ç¬¦ ]
å¦‚æœæˆ‘ä»¬æƒ³åœ¨å½“å‰è¡Œå†…å¿«é€Ÿç§»åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨f, t, F, Tå‘½ä»¤
&ldquo;f&#34;å‘½ä»¤ç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Šï¼Œä¾‹å¦‚ï¼Œ&ldquo;fx&rdquo;ï¼Œä¼šæŠŠç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Šï¼Œ&ldquo;F&#34;å‘½ä»¤åˆ™åæ–¹å‘æŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Š
&ldquo;t&#34;å‘½ä»¤å’Œ&#34;f&#34;å‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å‰ï¼Œä¾‹å¦‚ï¼Œ&ldquo;tx&#34;ä¼šç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦çš„å‰é¢ï¼Œ&ldquo;T&#34;å‘½ä»¤æ˜¯&#34;t&#34;å‘½ä»¤çš„åå‘ç‰ˆæœ¬ï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å
è¿™å››ä¸ªå‘½ä»¤åªåœ¨å½“å‰è¡Œä¸­ç§»åŠ¨å…‰æ ‡ï¼Œå…‰æ ‡ä¸ä¼šè·¨è¶Šå›è½¦æ¢è¡Œç¬¦
å¯ä»¥åœ¨å‘½ä»¤å‰é¢ä½¿ç”¨æ•°å­—ï¼Œè¡¨ç¤ºå€æ•°ï¼Œä¾‹å¦‚ï¼Œ&ldquo;3fx&#34;è¡¨ç¤ºç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬3ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Š
&ldquo;;&ldquo;å‘½ä»¤é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè€Œ&rdquo;,&ldquo;å‘½ä»¤ä¼šåæ–¹å‘é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤å‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥è¡¨ç¤ºå€æ•°
ğŸ‘‰ https://www.jianshu.com/p/a46a89b460a9
3. å¦‚ä½•åœ¨ Vim é‡Œé¢ä½¿ç”¨ ripgrep ï¼Ÿ å…³äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼š
ä½¿ç”¨ Vim é‡Œé¢è‡ªå¸¦çš„ quickfix"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hcy-asleep.github.io/post/"},{"@type":"ListItem","position":2,"name":"Vim ripgrep quickfix netrw nmap autocmd wincmd ã€‚ã€‚ã€‚å¤§æ‚çƒ© ï¼Ÿï¼","item":"https://hcy-asleep.github.io/Vim-ripgrep-quickfix-netrw-nmap-autocmd-wincmd-%E5%A4%A7%E6%9D%82%E7%83%A9/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vim ripgrep quickfix netrw nmap autocmd wincmd ã€‚ã€‚ã€‚å¤§æ‚çƒ© ï¼Ÿï¼","name":"Vim ripgrep quickfix netrw nmap autocmd wincmd ã€‚ã€‚ã€‚å¤§æ‚çƒ© ï¼Ÿï¼","description":"å•Šï¼Œè¿™ç¯‡æ–‡ç« å°±éšæ„ä¸€ç‚¹å§ï¼Œå°±æ„è¯†æµåœ°å†™å§ï¼ˆè™½ç„¶ä¸€ç›´éƒ½æ˜¯è¿™æ ·å­ï¼‰ï¼Œè®°å½•ä¸€ä¸‹æœ€è¿‘æ Neovim çš„å¿ƒå¾—\n1. å¦‚ä½•ä½¿ç”¨ nvim + coc å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿ ä½¿ç”¨ nvim + coc ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¼¹å‡ºæ¥çš„æ‚¬æµ®çª—å£å†…æœ‰æ»šåŠ¨æ¡ï¼Œæˆ‘æ€æ ·æ‰èƒ½æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿè¯•è¯• ctrl-w ctrl-w åˆ‡æ¢åˆ° floatwin ä¸­ï¼Œå†ç¿»é¡µï¼›æ›´é¡ºæ‰‹ä¸€äº›çš„æ“ä½œæ˜¯ï¼šå¦‚æœè§¦å‘ floatwin çš„æŒ‰é”®æ˜¯ nmap K, è¿æŒ‰ä¸¤æ¬¡ K å°±ä¼šåˆ‡æ¢åˆ° floatwin ä¸­\nğŸ‘‰ https://segmentfault.com/q/1010000040349668\næˆ–è€…ç›´æ¥æ˜ å°„ç›¸å…³çš„é”®ä½ï¼Œå‚è€ƒå®˜æ–¹ Github çš„ Readme\nğŸ‘‰ https://github.com/neoclide/coc.nvim/commit/\n2. Vim få’Œtçš„å¿«æ·æ–¹å¼ [ ç§»åŠ¨åˆ°æŒ‡å®šå­—ç¬¦ ]\nå¦‚æœæˆ‘ä»¬æƒ³åœ¨å½“å‰è¡Œå†…å¿«é€Ÿç§»åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨f, t, F, Tå‘½ä»¤\n\u0026ldquo;f\u0026quot;å‘½ä»¤ç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Šï¼Œä¾‹å¦‚ï¼Œ\u0026ldquo;fx\u0026rdquo;ï¼Œä¼šæŠŠç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬ä¸€ä¸ª\u0026rsquo;x\u0026rsquo;å­—ç¬¦ä¸Šï¼Œ\u0026ldquo;F\u0026quot;å‘½ä»¤åˆ™åæ–¹å‘æŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Š\n\u0026ldquo;t\u0026quot;å‘½ä»¤å’Œ\u0026quot;f\u0026quot;å‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å‰ï¼Œä¾‹å¦‚ï¼Œ\u0026ldquo;tx\u0026quot;ä¼šç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹ç¬¬ä¸€ä¸ª\u0026rsquo;x\u0026rsquo;å­—ç¬¦çš„å‰é¢ï¼Œ\u0026ldquo;T\u0026quot;å‘½ä»¤æ˜¯\u0026quot;t\u0026quot;å‘½ä»¤çš„åå‘ç‰ˆæœ¬ï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å\nè¿™å››ä¸ªå‘½ä»¤åªåœ¨å½“å‰è¡Œä¸­ç§»åŠ¨å…‰æ ‡ï¼Œå…‰æ ‡ä¸ä¼šè·¨è¶Šå›è½¦æ¢è¡Œç¬¦\nå¯ä»¥åœ¨å‘½ä»¤å‰é¢ä½¿ç”¨æ•°å­—ï¼Œè¡¨ç¤ºå€æ•°ï¼Œä¾‹å¦‚ï¼Œ\u0026ldquo;3fx\u0026quot;è¡¨ç¤ºç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬3ä¸ª\u0026rsquo;x\u0026rsquo;å­—ç¬¦ä¸Š\n\u0026ldquo;;\u0026ldquo;å‘½ä»¤é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè€Œ\u0026rdquo;,\u0026ldquo;å‘½ä»¤ä¼šåæ–¹å‘é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤å‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥è¡¨ç¤ºå€æ•°\nğŸ‘‰ https://www.jianshu.com/p/a46a89b460a9\n3. å¦‚ä½•åœ¨ Vim é‡Œé¢ä½¿ç”¨ ripgrep ï¼Ÿ å…³äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼š\nä½¿ç”¨ Vim é‡Œé¢è‡ªå¸¦çš„ quickfix","keywords":["VIM"],"articleBody":"å•Šï¼Œè¿™ç¯‡æ–‡ç« å°±éšæ„ä¸€ç‚¹å§ï¼Œå°±æ„è¯†æµåœ°å†™å§ï¼ˆè™½ç„¶ä¸€ç›´éƒ½æ˜¯è¿™æ ·å­ï¼‰ï¼Œè®°å½•ä¸€ä¸‹æœ€è¿‘æ Neovim çš„å¿ƒå¾—\n1. å¦‚ä½•ä½¿ç”¨ nvim + coc å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿ ä½¿ç”¨ nvim + coc ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¼¹å‡ºæ¥çš„æ‚¬æµ®çª—å£å†…æœ‰æ»šåŠ¨æ¡ï¼Œæˆ‘æ€æ ·æ‰èƒ½æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿè¯•è¯• ctrl-w ctrl-w åˆ‡æ¢åˆ° floatwin ä¸­ï¼Œå†ç¿»é¡µï¼›æ›´é¡ºæ‰‹ä¸€äº›çš„æ“ä½œæ˜¯ï¼šå¦‚æœè§¦å‘ floatwin çš„æŒ‰é”®æ˜¯ nmap K, è¿æŒ‰ä¸¤æ¬¡ K å°±ä¼šåˆ‡æ¢åˆ° floatwin ä¸­\nğŸ‘‰ https://segmentfault.com/q/1010000040349668\næˆ–è€…ç›´æ¥æ˜ å°„ç›¸å…³çš„é”®ä½ï¼Œå‚è€ƒå®˜æ–¹ Github çš„ Readme\nğŸ‘‰ https://github.com/neoclide/coc.nvim/commit/\n2. Vim få’Œtçš„å¿«æ·æ–¹å¼ [ ç§»åŠ¨åˆ°æŒ‡å®šå­—ç¬¦ ]\nå¦‚æœæˆ‘ä»¬æƒ³åœ¨å½“å‰è¡Œå†…å¿«é€Ÿç§»åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨f, t, F, Tå‘½ä»¤\nâ€œf\"å‘½ä»¤ç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Šï¼Œä¾‹å¦‚ï¼Œâ€œfxâ€ï¼Œä¼šæŠŠç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬ä¸€ä¸ªâ€™xâ€™å­—ç¬¦ä¸Šï¼Œâ€œF\"å‘½ä»¤åˆ™åæ–¹å‘æŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Š\nâ€œt\"å‘½ä»¤å’Œ\"f\"å‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å‰ï¼Œä¾‹å¦‚ï¼Œâ€œtx\"ä¼šç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹ç¬¬ä¸€ä¸ªâ€™xâ€™å­—ç¬¦çš„å‰é¢ï¼Œâ€œT\"å‘½ä»¤æ˜¯\"t\"å‘½ä»¤çš„åå‘ç‰ˆæœ¬ï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å\nè¿™å››ä¸ªå‘½ä»¤åªåœ¨å½“å‰è¡Œä¸­ç§»åŠ¨å…‰æ ‡ï¼Œå…‰æ ‡ä¸ä¼šè·¨è¶Šå›è½¦æ¢è¡Œç¬¦\nå¯ä»¥åœ¨å‘½ä»¤å‰é¢ä½¿ç”¨æ•°å­—ï¼Œè¡¨ç¤ºå€æ•°ï¼Œä¾‹å¦‚ï¼Œâ€œ3fx\"è¡¨ç¤ºç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬3ä¸ªâ€™xâ€™å­—ç¬¦ä¸Š\nâ€œ;â€œå‘½ä»¤é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè€Œâ€,â€œå‘½ä»¤ä¼šåæ–¹å‘é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤å‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥è¡¨ç¤ºå€æ•°\nğŸ‘‰ https://www.jianshu.com/p/a46a89b460a9\n3. å¦‚ä½•åœ¨ Vim é‡Œé¢ä½¿ç”¨ ripgrep ï¼Ÿ å…³äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼š\nä½¿ç”¨ Vim é‡Œé¢è‡ªå¸¦çš„ quickfix\nå°† rg æœç´¢ç»“æœåˆ‡å‰²å¡«å……åˆ° quickfix é‡Œé¢ï¼Œè¿™ä¸ªéƒ¨åˆ†ç”± Vim è‡ªå·±å®Œæˆï¼Œè¦æƒ³ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œåªéœ€è¦åœ¨ä½ çš„ vimrc æˆ–è€… init.vim é‡Œé¢æ·»åŠ è¿™å¥è¯å°±è¡Œ\n1 set grepprg=rg\\ --vimgrep\\ --no-heading\\ --smart-case ğŸ‘‰ https://github.com/BurntSushi/ripgrep/issues/425\nğŸ‘‰ https://www.reddit.com/r/vim/comments/\nä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è™½ç„¶ rg æœç´¢é€Ÿåº¦æ˜¯éå¸¸å¿«çš„ï¼Œä½†æ˜¯å°† rg æœç´¢ç»“æœé‡å®šå‘åˆ° quickfix é‡Œé¢æ˜¯éå¸¸æ…¢çš„ï¼Œå› ä¸ºå¡«å…… quickfix çš„æ—¶å€™ï¼Œvimscript ä¼šæŠŠæ¯ä¸€è¡Œåˆ‡å‰²æˆä¸€æ®µä¸€æ®µçš„å­—ç¬¦ä¸²ï¼Œç„¶åå­—å…¸åŒ–ï¼ˆä¹Ÿå°±æ˜¯ç»™æ¯ä¸€æ®µåŠ ä¸Š keyï¼‰ï¼Œä»¥æ–¹ä¾¿æ–‡å­—é«˜äº®ç€è‰²è¿˜æœ‰åç»­è·³è½¬ï¼Œåœ¨ Vim æ™®é€šæ¨¡å¼ä¸‹ :h cexpr å°±å¯ä»¥çŸ¥é“åŸç†äº†\nğŸ‘‰ https://www.reddit.com/r/vim/comments/\nç‹‚çƒ­ VIM çˆ±å¥½è€… -\u003e æ‰‹æ“ä¸€ä¸ª quickfix\næ—¢ç„¶å¡«å……çš„æ—¶å€™åˆ‡å‰²èŠ±è´¹äº†å¤§é‡æ—¶é—´ï¼Œé‚£ä¹ˆæˆ‘å†è·³è½¬çš„æ—¶å€™å†åˆ‡å‰²è·å¾—è·³è½¬ä½ç½®ä¿¡æ¯ä¸ä¹…å¿«å•¦ï¼Ÿæ¯•ç«Ÿåˆ‡å‰²ä¸€è¡Œå†…å®¹å¤šæ…¢éƒ½ä¸ä¼šæ…¢åˆ°å“ªé‡Œå»\nVim è·å–å¤–éƒ¨ shell å‘½ä»¤è¾“å‡ºç»“æœçš„æ–¹æ³•ï¼š\n1 2 3 4 redir =\u003e t:message execute a:cmd redir END echo t:message Vim å°† t:message çš„ä¿¡æ¯å¡«å……è¿› buffer é‡Œé¢å¯ä»¥ä½¿ç”¨ setline() å‡½æ•°\næˆ–è€…å¯ä»¥ç›´æ¥è·å–ç»“æœç„¶åå¡«å……ä¸€æ­¥åˆ°ä½ï¼š\n1 read !ls ~ ğŸ‘‰ https://vim.fandom.com/wiki/Capture_ex_command_output\nVim åœ¨ä¸åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªçª—å£ä¸‹æ“æ§å¦å¤–ä¸€ä¸ªçª—å£ï¼Œå¯ä»¥ä½¿ç”¨ win_execute() å‡½æ•°ï¼ŒNeovim ä¹Ÿæ˜¯æ”¯æŒçš„ï¼ˆnvim 0.7.2 æµ‹è¯•å¯ä»¥ï¼‰ï¼Œç”¨è¿™ä¸ªå‡½æ•°å¯ä»¥å®ç° quickfix é‡Œ cNext é‚£ç§æ•ˆæœï¼ˆè¿™é‡Œæä¸€å˜´ï¼Œwin_execute é‡Œé¢çš„ winid æ˜¯è¦é€šè¿‡ win_getid è·å–çš„ï¼‰\n1 let l:findWinId=win_getid(l:findWinNum) ğŸ‘‰ https://vi.stackexchange.com/questions/23271/\nğŸ‘‰ https://vi.stackexchange.com/questions/26602/\nVim åœ¨ ex ï¼ˆå‘½ä»¤æ¨¡å¼é‡Œé¢è·³è½¬åˆ°å…·ä½“çš„æŸè¡ŒæŸåˆ—ï¼‰éœ€è¦ä½¿ç”¨ cal å‘½ä»¤ï¼Œå¦‚è·³è½¬åˆ°ç¬¬ 30 è¡Œçš„ç¬¬ 5 åˆ—ï¼š\n1 cal cursor(30, 5) ğŸ‘‰ https://stackoverflow.com/questions/11767956/\nVim å…è®¸è®¾ç½® buffer çš„æ–‡ä»¶ç±»å‹ï¼ˆfiletypeï¼‰ï¼š\n1 setlocal filetype=your_type(ä¸ç”¨åŒå¼•å·) æ‰“å° buffer æ–‡ä»¶ç±»å‹ï¼š\n1 echo \u0026filetype è¿™ä¸ª filetype å±æ€§ç»“åˆ nnoremap å°±å¯ä»¥åšåˆ°æŒ‡å®šæŸä¸€ä¸ª buffer setlocal cursorline (Buffer local mappings in Vim) (vim map in specific window)\nğŸ‘‰ https://stackoverflow.com/questions/7985813/\næˆ‘å°† rg æ•´åˆè¿› neovim ä¹‹åçš„ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 \" set ripgrep root dir let g:rgRootDir=getcwd() function! CdCurBufDir() let g:rgRootDir=expand(\"%:p:h\") echo expand(\"%:p:h\") endfunction \" Cc means 'cd cur', cd cur buf dir command! -nargs=1 -complete=command Cc silent call CdCurBufDir() let t:redirPreviewWinnr = 1 function! OpenRedirWindow() let l:findWinNum=bufwinnr(bufnr('FuzzyFilenameSearch')) let l:rgWinNum=bufwinnr(bufnr('RipgrepWordSearch')) if l:findWinNum != -1 exec l:findWinNum.\"wincmd w\" enew elseif l:rgWinNum != -1 exec l:rgWinNum.\"wincmd w\" enew else let t:redirPreviewWinnr = winnr() botright 10new endif endfunction function! QuitRedirWindow() let l:findWinNum=bufwinnr(bufnr('FuzzyFilenameSearch')) let l:rgWinNum=bufwinnr(bufnr('RipgrepWordSearch')) if l:findWinNum != -1 exec l:findWinNum.\"close\" elseif l:rgWinNum != -1 exec l:rgWinNum.\"close\" else echo \"\u003e\u003e No OpenRedirWindow!\" endif endfunction nnoremap \u003csilent\u003e\u003cspace\u003eq :call QuitRedirWindow()\u003cCR\u003e \" Fuzzy Match filenames ----------------------------------------------------------------------------- \" Go to the file on line function! FindJump(path) exec \"cd \".g:rgRootDir let l:path=a:path exec t:redirPreviewWinnr.\"wincmd w\" exec \"edit \".l:path endfunction \" autocmd to jump to file with CR only in FuzzyFilenameSearch buffer function! FindJumpWithCR() augroup findJumpWithCR autocmd! autocmd FileType FuzzyFilenameSearch nnoremap \u003cbuffer\u003e\u003csilent\u003e\u003cCR\u003e :call FindJump(getline('.'))\u003cCR\u003e augroup END endfunction \" redirect the command output to a buffer function! FindRedir(cmd) call FindJumpWithCR() call OpenRedirWindow() edit FuzzyFilenameSearch exec \"read \".a:cmd setlocal buftype=nofile bufhidden=wipe nobuflisted noswapfile cursorline filetype=FuzzyFilenameSearch endfunction command! -nargs=1 -complete=command FindRedir silent call FindRedir(\u003cq-args\u003e) \" Show Files fuzzily searched with git function! FindWithGit(substr) exec \"FindRedir !rg --files \\| rg --ignore-case \".a:substr exec \"normal! gg\" if getline('.') == \"\" exec \"normal! dd\" endif call feedkeys(\"/\".a:substr.\"\\\\c\\\" ,'n') endfunction \" Show Files searched fuzzily without git function! FindWithoutGit(substr) exec \"FindRedir !rg --no-ignore --files \\| rg --ignore-case \".a:substr exec \"normal! gg\" if getline('.') == \"\" exec \"normal! dd\" endif call feedkeys(\"/\".a:substr.\"\\\\c\\\" ,'n') endfunction \" Fg means 'file git', search file names fuzzily with git command! -nargs=1 -complete=command Fg silent call FindWithGit(\u003cq-args\u003e) \" Fs means 'file search', search file names fuzzily command! -nargs=1 -complete=command Fs silent call FindWithoutGit(\u003cq-args\u003e) \" To show file preview, underlying of FindNext, imitate 'cNext' command function! FindShow(direction) let l:findWinNum=bufwinnr(bufnr('FuzzyFilenameSearch')) if l:findWinNum == -1 echo \"\u003e\u003e No FuzzyFilenameSearch Buffer!\" else if l:findWinNum != t:redirPreviewWinnr let l:findWinId=win_getid(l:findWinNum) call win_execute(l:findWinId, \"normal! \".a:direction) call win_execute(l:findWinId, \"let t:findPreviewPath=getline('.')\") call FindJump(t:findPreviewPath) else call FindJump(getline('.')) endif endif endfunction \" imitate 'cNext' function! FindNext() call FindShow(\"+\") endfunction \" imitate 'cprevious' function! FindPre() call FindShow(\"-\") endfunction nnoremap \u003csilent\u003e\u003cC-down\u003e :call FindNext()\u003cCR\u003e nnoremap \u003csilent\u003e\u003cC-up\u003e :call FindPre()\u003cCR\u003e \" Global Fuzzy Match words ------------------------------------------------------------------------- \" Go to the file on line function! RgJump(location) exec \"cd \".g:rgRootDir let l:location = split(a:location, \":\") exec t:redirPreviewWinnr.\"wincmd w\" exec \"edit \".l:location[0] cal cursor(l:location[1], l:location[2]) endfunction \" autocmd to jump to file with CR only in RipgrepWordSearch buffer function! RgJumpWithCR() augroup rgJumpWithCR autocmd! autocmd FileType RipgrepWordSearch nnoremap \u003cbuffer\u003e\u003csilent\u003e\u003cCR\u003e :call RgJump(getline('.'))\u003cCR\u003e augroup END endfunction \" redirect the command output to a buffer function! RgRedir(cmd) call RgJumpWithCR() call OpenRedirWindow() edit RipgrepWordSearch exec \"read \"a:cmd setlocal buftype=nofile bufhidden=wipe nobuflisted noswapfile cursorline filetype=RipgrepWordSearch endfunction command! -nargs=1 -complete=command RgRedir silent call RgRedir(\u003cq-args\u003e) \" Show Words fuzzily searched with git function! RgWithGit(substr) exec \"RgRedir !rg '\".a:substr.\"' \".getcwd().\" --ignore-case --vimgrep --no-heading\" exec \"normal! gg\" if getline('.') == \"\" exec \"normal! dd\" endif call feedkeys(\"/\".a:substr.\"\\\\c\\\" ,'n') endfunction \" Show Files fuzzily searched without git function! RgWithoutGit(substr) exec \"RgRedir !rg '\".a:substr.\"' \".getcwd().\" --ignore-case --vimgrep --no-heading --no-ignore\" exec \"normal! gg\" if getline('.') == \"\" exec \"normal! dd\" endif call feedkeys(\"/\".a:substr.\"\\\\c\\\" ,'n') endfunction \" Wg means 'word git', search file fuzzily names with git command! -nargs=1 -complete=command Wg silent call RgWithGit(\u003cq-args\u003e) \" Ws means 'word search', search file fuzzily names without git command! -nargs=1 -complete=command Ws silent! call RgWithoutGit(\u003cq-args\u003e) \" To show file preview, underlying of RgNext, imitate 'cNext' command function! RgShow(direction) let l:rgWinNum=bufwinnr(bufnr('RipgrepWordSearch')) if l:rgWinNum == -1 echo \"\u003e\u003e No RipgrepWordSearch Buffer!\" else if l:rgWinNum != t:redirPreviewWinnr let l:rgWinId=win_getid(l:rgWinNum) call win_execute(l:rgWinId, \"normal! \".a:direction) call win_execute(l:rgWinId, \"let t:rgPreviewLocation=getline('.')\") call RgJump(t:rgPreviewLocation) else call RgJump(getline('.')) endif endif endfunction \" imitate 'cNext' function! RgNext() call RgShow(\"+\") endfunction \" imitate 'cprevious' function! RgPre() call RgShow(\"-\") endfunction nnoremap \u003csilent\u003e\u003cS-down\u003e :call RgNext()\u003cCR\u003e nnoremap \u003csilent\u003e\u003cS-up\u003e :call RgPre()\u003cCR\u003e ğŸ‘‰ https://github.com/HCY-ASLEEP/NVIM-Config/tree/main\n4. Ripgrep åœ¨çº¿ä½¿ç”¨æ‰‹å†Œ ä¸€äº›ç®€å•çš„ä¾‹å­è¯´æ˜ï¼š\nğŸ‘‰ https://jdhao.github.io/2020/02/16/ripgrep_cheat_sheet/\nrg åœ¨çº¿ man æ‰‹å†Œï¼Œæ²¡æœ‰ä¾‹å­ï¼š\nğŸ‘‰ https://www.mankier.com/1/rg\né¡ºä¾¿æä¸€ä¸‹é˜²æ­¢æˆ‘ä»¥åå¿˜è®°ï¼Œå¦‚æœæƒ³ rg æœç´¢ç»“æœé‡Œé¢åŒ…å«éšè—æ–‡ä»¶ï¼ˆä»¥ â€˜.â€™ å¼€å¤´çš„æ–‡ä»¶ï¼‰ï¼Œä½¿ç”¨ â€“hidden å‚æ•°å°±å¯ä»¥äº†\n5. Where is neovimâ€™s .viminfo located? vim çš„å†å²å‘½ä»¤æ–‡ä»¶ä½äº ~/.viminfo ï¼Œè€Œ neovim çš„ä½äº\n1 ~/local/share/nvim/shada/main.shada ğŸ‘‰ https://www.reddit.com/r/neovim/comments/\n6. è®¾ç½® netrw çš„å·¥ä½œç›®å½•(root dir) How to set selected directory as current in vim (netrw)? åªéœ€è¦æŠŠå…‰æ ‡æ”¾åœ¨ netrw é‡Œé¢ä½ æƒ³è®¾ç½®çš„ç›®å½•ä¸‹é¢ï¼Œç„¶åæ‰§è¡Œ :Ntree å‘½ä»¤å°±è¡Œ\nğŸ‘‰ https://stackoverflow.com/questions/33542513/\n","wordCount":"1113","inLanguage":"zh","datePublished":"2023-05-24T13:51:22+08:00","dateModified":"2023-05-24T13:51:22+08:00","author":{"@type":"Person","name":"HCY"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hcy-asleep.github.io/Vim-ripgrep-quickfix-netrw-nmap-autocmd-wincmd-%E5%A4%A7%E6%9D%82%E7%83%A9/"},"publisher":{"@type":"Organization","name":"Memos","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://hcy-asleep.github.io/ accesskey=h title="ä¸»é¡µ (Alt + H)">ä¸»é¡µ</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://hcy-asleep.github.io/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://hcy-asleep.github.io/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://hcy-asleep.github.io/categories/ title=ç›®å½•><span>ç›®å½•</span></a></li><li><a href=https://hcy-asleep.github.io/friends/ title=å‹é“¾><span>å‹é“¾</span></a></li><li><a href=https://hcy-asleep.github.io/about/ title=å…³äº><span>å…³äº</span></a></li><li><a href=https://hcy-asleep.github.io/search/ title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hcy-asleep.github.io/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://hcy-asleep.github.io/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Vim ripgrep quickfix netrw nmap autocmd wincmd ã€‚ã€‚ã€‚å¤§æ‚çƒ© ï¼Ÿï¼</h1><div class=post-meta><span title='2023-05-24 13:51:22 +0800 CST'>äº”æœˆ 24, 2023</span>&nbsp;Â·&nbsp;6 åˆ†é’Ÿ&nbsp;Â·&nbsp;1113 å­—&nbsp;Â·&nbsp;HCY&nbsp;|&nbsp;<a href=https://github.com/HCY-ASLEEP rel="noopener noreferrer" target=_blank> Follow me</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#1-å¦‚ä½•ä½¿ç”¨-nvim--coc-å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢>1. å¦‚ä½•ä½¿ç”¨ nvim + coc å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿ</a></li><li><a href=#2-vim-få’Œtçš„å¿«æ·æ–¹å¼>2. Vim få’Œtçš„å¿«æ·æ–¹å¼</a></li><li><a href=#3-å¦‚ä½•åœ¨-vim-é‡Œé¢ä½¿ç”¨-ripgrep->3. å¦‚ä½•åœ¨ Vim é‡Œé¢ä½¿ç”¨ ripgrep ï¼Ÿ</a></li><li><a href=#4-ripgrep-åœ¨çº¿ä½¿ç”¨æ‰‹å†Œ>4. Ripgrep åœ¨çº¿ä½¿ç”¨æ‰‹å†Œ</a></li><li><a href=#5-where-is-neovims-viminfo-located>5. Where is neovim&rsquo;s .viminfo located?</a></li><li><a href=#6-è®¾ç½®-netrw-çš„å·¥ä½œç›®å½•root-dir>6. è®¾ç½® netrw çš„å·¥ä½œç›®å½•(root dir)</a></li></ul></li></ul></li></ul></nav></div></details></div><div class=post-content><p>å•Šï¼Œè¿™ç¯‡æ–‡ç« å°±éšæ„ä¸€ç‚¹å§ï¼Œå°±æ„è¯†æµåœ°å†™å§ï¼ˆè™½ç„¶ä¸€ç›´éƒ½æ˜¯è¿™æ ·å­ï¼‰ï¼Œè®°å½•ä¸€ä¸‹æœ€è¿‘æ Neovim çš„å¿ƒå¾—</p><h3 id=1-å¦‚ä½•ä½¿ç”¨-nvim--coc-å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢>1. å¦‚ä½•ä½¿ç”¨ nvim + coc å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#1-å¦‚ä½•ä½¿ç”¨-nvim--coc-å¦‚ä½•æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢>#</a></h3><p>ä½¿ç”¨ nvim + coc ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¼¹å‡ºæ¥çš„æ‚¬æµ®çª—å£å†…æœ‰æ»šåŠ¨æ¡ï¼Œæˆ‘æ€æ ·æ‰èƒ½æ»šåŠ¨æ‚¬æµ®çª—å£å†…çš„å†…å®¹å‘¢ï¼Ÿè¯•è¯• ctrl-w ctrl-w åˆ‡æ¢åˆ° floatwin ä¸­ï¼Œå†ç¿»é¡µï¼›æ›´é¡ºæ‰‹ä¸€äº›çš„æ“ä½œæ˜¯ï¼šå¦‚æœè§¦å‘ floatwin çš„æŒ‰é”®æ˜¯ nmap K, è¿æŒ‰ä¸¤æ¬¡ K å°±ä¼šåˆ‡æ¢åˆ° floatwin ä¸­</p><p>ğŸ‘‰ <a href=https://segmentfault.com/q/1010000040349668>https://segmentfault.com/q/1010000040349668</a></p><p>æˆ–è€…ç›´æ¥æ˜ å°„ç›¸å…³çš„é”®ä½ï¼Œå‚è€ƒå®˜æ–¹ Github çš„ Readme</p><p>ğŸ‘‰ <a href=https://github.com/neoclide/coc.nvim/commit/624549dab287bd63ef7525d85fbf145669dc3b03>https://github.com/neoclide/coc.nvim/commit/</a></p></br><h3 id=2-vim-få’Œtçš„å¿«æ·æ–¹å¼>2. Vim få’Œtçš„å¿«æ·æ–¹å¼<a hidden class=anchor aria-hidden=true href=#2-vim-få’Œtçš„å¿«æ·æ–¹å¼>#</a></h3><p><strong>[ ç§»åŠ¨åˆ°æŒ‡å®šå­—ç¬¦ ]</strong></p><ul><li><p>å¦‚æœæˆ‘ä»¬æƒ³åœ¨å½“å‰è¡Œå†…å¿«é€Ÿç§»åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨f, t, F, Tå‘½ä»¤</p></li><li><p>&ldquo;f"å‘½ä»¤ç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Šï¼Œä¾‹å¦‚ï¼Œ&ldquo;fx&rdquo;ï¼Œä¼šæŠŠç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Šï¼Œ&ldquo;F"å‘½ä»¤åˆ™åæ–¹å‘æŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¸Š</p></li><li><p>&ldquo;t"å‘½ä»¤å’Œ"f"å‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å‰ï¼Œä¾‹å¦‚ï¼Œ&ldquo;tx"ä¼šç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹ç¬¬ä¸€ä¸ª&rsquo;x&rsquo;å­—ç¬¦çš„å‰é¢ï¼Œ&ldquo;T"å‘½ä»¤æ˜¯"t"å‘½ä»¤çš„åå‘ç‰ˆæœ¬ï¼Œå®ƒç§»åŠ¨åˆ°å…‰æ ‡å·¦è¾¹çš„æŒ‡å®šå­—ç¬¦ä¹‹å</p></li><li><p>è¿™å››ä¸ªå‘½ä»¤åªåœ¨å½“å‰è¡Œä¸­ç§»åŠ¨å…‰æ ‡ï¼Œå…‰æ ‡ä¸ä¼šè·¨è¶Šå›è½¦æ¢è¡Œç¬¦</p></li><li><p>å¯ä»¥åœ¨å‘½ä»¤å‰é¢ä½¿ç”¨æ•°å­—ï¼Œè¡¨ç¤ºå€æ•°ï¼Œä¾‹å¦‚ï¼Œ&ldquo;3fx"è¡¨ç¤ºç§»åŠ¨åˆ°å…‰æ ‡å³è¾¹çš„ç¬¬3ä¸ª&rsquo;x&rsquo;å­—ç¬¦ä¸Š</p></li><li><p>&ldquo;;&ldquo;å‘½ä»¤é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè€Œ&rdquo;,&ldquo;å‘½ä»¤ä¼šåæ–¹å‘é‡å¤å‰ä¸€æ¬¡è¾“å…¥çš„f, t, F, Tå‘½ä»¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤å‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥è¡¨ç¤ºå€æ•°</p></li></ul><p>ğŸ‘‰ <a href=https://www.jianshu.com/p/a46a89b460a9>https://www.jianshu.com/p/a46a89b460a9</a></p></br><h3 id=3-å¦‚ä½•åœ¨-vim-é‡Œé¢ä½¿ç”¨-ripgrep->3. å¦‚ä½•åœ¨ Vim é‡Œé¢ä½¿ç”¨ ripgrep ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#3-å¦‚ä½•åœ¨-vim-é‡Œé¢ä½¿ç”¨-ripgrep->#</a></h3><p>å…³äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼š</p><ol><li><p><strong>ä½¿ç”¨ Vim é‡Œé¢è‡ªå¸¦çš„ quickfix</strong></p><ul><li><p>å°† rg æœç´¢ç»“æœåˆ‡å‰²å¡«å……åˆ° quickfix é‡Œé¢ï¼Œè¿™ä¸ªéƒ¨åˆ†ç”± Vim è‡ªå·±å®Œæˆï¼Œè¦æƒ³ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œåªéœ€è¦åœ¨ä½ çš„ vimrc æˆ–è€… init.vim é‡Œé¢æ·»åŠ è¿™å¥è¯å°±è¡Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=k>set</span> <span class=nx>grepprg</span><span class=p>=</span><span class=nx>rg</span>\ <span class=p>--</span><span class=nx>vimgrep</span>\ <span class=p>--</span><span class=nx>no</span><span class=p>-</span><span class=nx>heading</span>\ <span class=p>--</span><span class=nx>smart</span><span class=p>-</span><span class=nx>case</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <a href=https://github.com/BurntSushi/ripgrep/issues/425>https://github.com/BurntSushi/ripgrep/issues/425</a></p><p>ğŸ‘‰ <a href=https://www.reddit.com/r/vim/comments/1rzvsm/do_any_of_you_redirect_results_of_i_to_the/>https://www.reddit.com/r/vim/comments/</a></p></li><li><p>ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è™½ç„¶ rg æœç´¢é€Ÿåº¦æ˜¯éå¸¸å¿«çš„ï¼Œä½†æ˜¯å°† rg æœç´¢ç»“æœé‡å®šå‘åˆ° quickfix é‡Œé¢æ˜¯éå¸¸æ…¢çš„ï¼Œå› ä¸ºå¡«å…… quickfix çš„æ—¶å€™ï¼Œvimscript ä¼šæŠŠæ¯ä¸€è¡Œåˆ‡å‰²æˆä¸€æ®µä¸€æ®µçš„å­—ç¬¦ä¸²ï¼Œç„¶åå­—å…¸åŒ–ï¼ˆä¹Ÿå°±æ˜¯ç»™æ¯ä¸€æ®µåŠ ä¸Š keyï¼‰ï¼Œä»¥æ–¹ä¾¿æ–‡å­—é«˜äº®ç€è‰²è¿˜æœ‰åç»­è·³è½¬ï¼Œåœ¨ Vim æ™®é€šæ¨¡å¼ä¸‹ :h cexpr å°±å¯ä»¥çŸ¥é“åŸç†äº†</p><p>ğŸ‘‰ <a href=https://www.reddit.com/r/vim/comments/e6xw03/ripgrep_is_slow_when_using_grepprg_inside_vim_but/>https://www.reddit.com/r/vim/comments/</a></p></li></ul></li></ol></br><ol start=2><li><p><strong>ç‹‚çƒ­ VIM çˆ±å¥½è€… -> æ‰‹æ“ä¸€ä¸ª quickfix</strong></p><p>æ—¢ç„¶å¡«å……çš„æ—¶å€™åˆ‡å‰²èŠ±è´¹äº†å¤§é‡æ—¶é—´ï¼Œé‚£ä¹ˆæˆ‘å†è·³è½¬çš„æ—¶å€™å†åˆ‡å‰²è·å¾—è·³è½¬ä½ç½®ä¿¡æ¯ä¸ä¹…å¿«å•¦ï¼Ÿæ¯•ç«Ÿåˆ‡å‰²ä¸€è¡Œå†…å®¹å¤šæ…¢éƒ½ä¸ä¼šæ…¢åˆ°å“ªé‡Œå»</p><ul><li><p>Vim è·å–å¤–éƒ¨ shell å‘½ä»¤è¾“å‡ºç»“æœçš„æ–¹æ³•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>redir</span> <span class=p>=&gt;</span> <span class=nx>t</span>:<span class=nx>message</span>
</span></span><span class=line><span class=cl><span class=k>execute</span> <span class=nx>a</span>:<span class=nx>cmd</span>
</span></span><span class=line><span class=cl><span class=nx>redir</span> <span class=nx>END</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=nx>t</span>:<span class=nx>message</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Vim å°† t:message çš„ä¿¡æ¯å¡«å……è¿› buffer é‡Œé¢å¯ä»¥ä½¿ç”¨ setline() å‡½æ•°</p></li><li><p>æˆ–è€…å¯ä»¥ç›´æ¥è·å–ç»“æœç„¶åå¡«å……ä¸€æ­¥åˆ°ä½ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>read</span> <span class=p>!</span><span class=nx>ls</span> <span class=p>~</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <a href=https://vim.fandom.com/wiki/Capture_ex_command_output>https://vim.fandom.com/wiki/Capture_ex_command_output</a></p></li><li><p>Vim åœ¨ä¸åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªçª—å£ä¸‹æ“æ§å¦å¤–ä¸€ä¸ªçª—å£ï¼Œå¯ä»¥ä½¿ç”¨ win_execute() å‡½æ•°ï¼ŒNeovim ä¹Ÿæ˜¯æ”¯æŒçš„ï¼ˆnvim 0.7.2 æµ‹è¯•å¯ä»¥ï¼‰ï¼Œç”¨è¿™ä¸ªå‡½æ•°å¯ä»¥å®ç° quickfix é‡Œ cNext é‚£ç§æ•ˆæœï¼ˆè¿™é‡Œæä¸€å˜´ï¼Œwin_execute é‡Œé¢çš„ winid æ˜¯è¦é€šè¿‡ win_getid è·å–çš„ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=k>let</span> <span class=nx>l</span>:<span class=nx>findWinId</span><span class=p>=</span><span class=nx>win_getid</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>findWinNum</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <a href=https://vi.stackexchange.com/questions/23271/set-option-on-window-without-going-to-the-window-and-come-back>https://vi.stackexchange.com/questions/23271/</a></p><p>ğŸ‘‰ <a href=https://vi.stackexchange.com/questions/26602/how-to-scroll-in-another-window-without-switching-to-it>https://vi.stackexchange.com/questions/26602/</a></p></li><li><p>Vim åœ¨ ex ï¼ˆå‘½ä»¤æ¨¡å¼é‡Œé¢è·³è½¬åˆ°å…·ä½“çš„æŸè¡ŒæŸåˆ—ï¼‰éœ€è¦ä½¿ç”¨ cal å‘½ä»¤ï¼Œå¦‚è·³è½¬åˆ°ç¬¬ 30 è¡Œçš„ç¬¬ 5 åˆ—ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>cal</span> <span class=nx>cursor</span><span class=p>(</span><span class=m>30</span><span class=p>,</span> <span class=m>5</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <a href=https://stackoverflow.com/questions/11767956/how-do-i-move-the-cursor-to-a-specific-row-and-column>https://stackoverflow.com/questions/11767956/</a></p></li><li><p>Vim å…è®¸è®¾ç½® buffer çš„æ–‡ä»¶ç±»å‹ï¼ˆfiletypeï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>setlocal</span> <span class=k>filetype</span><span class=p>=</span><span class=nx>your_type</span><span class=p>(</span><span class=nx>ä¸ç”¨åŒå¼•å·</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>æ‰“å° buffer æ–‡ä»¶ç±»å‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>echo</span> &amp;<span class=k>filetype</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>è¿™ä¸ª filetype å±æ€§ç»“åˆ nnoremap &lt;buffer> å°±å¯ä»¥åšåˆ°æŒ‡å®šæŸä¸€ä¸ª buffer setlocal cursorline (Buffer local mappings in Vim) (vim map in specific window)</p><p>ğŸ‘‰ <a href=https://stackoverflow.com/questions/7985813/buffer-local-mappings-in-vim-buffer-vs-localleader>https://stackoverflow.com/questions/7985813/</a></p></li><li><p>æˆ‘å°† rg æ•´åˆè¿› neovim ä¹‹åçš„ä»£ç å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=c>&#34; set ripgrep root dir</span>
</span></span><span class=line><span class=cl><span class=k>let</span> <span class=nx>g</span>:<span class=nx>rgRootDir</span><span class=p>=</span><span class=nx>getcwd</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>CdCurBufDir</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>g</span>:<span class=nx>rgRootDir</span><span class=p>=</span><span class=nx>expand</span><span class=p>(</span><span class=s2>&#34;%:p:h&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>echo</span> <span class=nx>expand</span><span class=p>(</span><span class=s2>&#34;%:p:h&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Cc means &#39;cd cur&#39;, cd cur buf dir</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>1</span> <span class=p>-</span><span class=nx>complete</span><span class=p>=</span><span class=nx>command</span> <span class=nx>Cc</span> <span class=nx>silent</span> <span class=nx>call</span> <span class=nx>CdCurBufDir</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>let</span> <span class=nx>t</span>:<span class=nx>redirPreviewWinnr</span> <span class=p>=</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>OpenRedirWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>findWinNum</span><span class=p>=</span><span class=nx>bufwinnr</span><span class=p>(</span><span class=nx>bufnr</span><span class=p>(</span><span class=s1>&#39;FuzzyFilenameSearch&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span><span class=p>=</span><span class=nx>bufwinnr</span><span class=p>(</span><span class=nx>bufnr</span><span class=p>(</span><span class=s1>&#39;RipgrepWordSearch&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>l</span>:<span class=nx>findWinNum</span> <span class=p>!=</span> <span class=m>-1</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=nx>l</span>:<span class=nx>findWinNum</span>.<span class=s2>&#34;wincmd w&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>enew</span>
</span></span><span class=line><span class=cl>    <span class=k>elseif</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span> <span class=p>!=</span> <span class=m>-1</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span>.<span class=s2>&#34;wincmd w&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>enew</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=k>let</span> <span class=nx>t</span>:<span class=nx>redirPreviewWinnr</span> <span class=p>=</span> <span class=nx>winnr</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nx>botright</span> <span class=m>10</span>new
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>QuitRedirWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>findWinNum</span><span class=p>=</span><span class=nx>bufwinnr</span><span class=p>(</span><span class=nx>bufnr</span><span class=p>(</span><span class=s1>&#39;FuzzyFilenameSearch&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span><span class=p>=</span><span class=nx>bufwinnr</span><span class=p>(</span><span class=nx>bufnr</span><span class=p>(</span><span class=s1>&#39;RipgrepWordSearch&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>l</span>:<span class=nx>findWinNum</span> <span class=p>!=</span> <span class=m>-1</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=nx>l</span>:<span class=nx>findWinNum</span>.<span class=s2>&#34;close&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>elseif</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span> <span class=p>!=</span> <span class=m>-1</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span>.<span class=s2>&#34;close&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=nx>echo</span> <span class=s2>&#34;&gt;&gt; No OpenRedirWindow!&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>q</span> :<span class=nx>call</span> <span class=nx>QuitRedirWindow</span><span class=p>()&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Fuzzy Match filenames -----------------------------------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c>&#34; Go to the file on line</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindJump</span><span class=p>(</span><span class=nx>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;cd &#34;</span>.<span class=nx>g</span>:<span class=nx>rgRootDir</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>path</span><span class=p>=</span><span class=nx>a</span>:<span class=nx>path</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=nx>t</span>:<span class=nx>redirPreviewWinnr</span>.<span class=s2>&#34;wincmd w&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;edit &#34;</span>.<span class=nx>l</span>:<span class=nx>path</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; autocmd to jump to file with CR only in FuzzyFilenameSearch buffer</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindJumpWithCR</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>augroup</span> <span class=nx>findJumpWithCR</span>
</span></span><span class=line><span class=cl>        <span class=k>autocmd</span><span class=p>!</span>
</span></span><span class=line><span class=cl>        <span class=k>autocmd</span> <span class=nx>FileType</span> <span class=nx>FuzzyFilenameSearch</span> <span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>buffer</span><span class=p>&gt;&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>CR</span><span class=p>&gt;</span> :<span class=nx>call</span> <span class=nx>FindJump</span><span class=p>(</span><span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>))&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>augroup</span> <span class=nx>END</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; redirect the command output to a buffer</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindRedir</span><span class=p>(</span><span class=nx>cmd</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>FindJumpWithCR</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>OpenRedirWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>edit</span> <span class=nx>FuzzyFilenameSearch</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;read &#34;</span>.<span class=nx>a</span>:<span class=nx>cmd</span>
</span></span><span class=line><span class=cl>    <span class=nx>setlocal</span> <span class=nx>buftype</span><span class=p>=</span><span class=nx>nofile</span> <span class=nx>bufhidden</span><span class=p>=</span><span class=nx>wipe</span> <span class=nx>nobuflisted</span> <span class=nx>noswapfile</span> <span class=nx>cursorline</span> <span class=k>filetype</span><span class=p>=</span><span class=nx>FuzzyFilenameSearch</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>1</span> <span class=p>-</span><span class=nx>complete</span><span class=p>=</span><span class=nx>command</span> <span class=nx>FindRedir</span> <span class=nx>silent</span> <span class=nx>call</span> <span class=nx>FindRedir</span><span class=p>(&lt;</span><span class=nx>q</span><span class=p>-</span><span class=nx>args</span><span class=p>&gt;)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Show Files fuzzily searched with git</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindWithGit</span><span class=p>(</span><span class=nx>substr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;FindRedir !rg --files \| rg --ignore-case &#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;normal! gg&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span> <span class=p>==</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=s2>&#34;normal! dd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>feedkeys</span><span class=p>(</span><span class=s2>&#34;/&#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>.<span class=s2>&#34;\\c\&lt;CR&gt;&#34;</span> <span class=p>,</span><span class=s1>&#39;n&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Show Files searched fuzzily without git</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindWithoutGit</span><span class=p>(</span><span class=nx>substr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;FindRedir !rg --no-ignore --files \| rg --ignore-case &#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;normal! gg&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span> <span class=p>==</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=s2>&#34;normal! dd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>feedkeys</span><span class=p>(</span><span class=s2>&#34;/&#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>.<span class=s2>&#34;\\c\&lt;CR&gt;&#34;</span> <span class=p>,</span><span class=s1>&#39;n&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Fg means &#39;file git&#39;, search file names fuzzily with git</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>1</span> <span class=p>-</span><span class=nx>complete</span><span class=p>=</span><span class=nx>command</span> <span class=nx>Fg</span> <span class=nx>silent</span> <span class=nx>call</span> <span class=nx>FindWithGit</span><span class=p>(&lt;</span><span class=nx>q</span><span class=p>-</span><span class=nx>args</span><span class=p>&gt;)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Fs means &#39;file search&#39;, search file names fuzzily</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>1</span> <span class=p>-</span><span class=nx>complete</span><span class=p>=</span><span class=nx>command</span> <span class=nx>Fs</span> <span class=nx>silent</span> <span class=nx>call</span> <span class=nx>FindWithoutGit</span><span class=p>(&lt;</span><span class=nx>q</span><span class=p>-</span><span class=nx>args</span><span class=p>&gt;)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; To show file preview, underlying of FindNext, imitate &#39;cNext&#39; command</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindShow</span><span class=p>(</span><span class=nx>direction</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>findWinNum</span><span class=p>=</span><span class=nx>bufwinnr</span><span class=p>(</span><span class=nx>bufnr</span><span class=p>(</span><span class=s1>&#39;FuzzyFilenameSearch&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>l</span>:<span class=nx>findWinNum</span> <span class=p>==</span> <span class=m>-1</span>
</span></span><span class=line><span class=cl>        <span class=nx>echo</span> <span class=s2>&#34;&gt;&gt; No FuzzyFilenameSearch Buffer!&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nx>l</span>:<span class=nx>findWinNum</span> <span class=p>!=</span> <span class=nx>t</span>:<span class=nx>redirPreviewWinnr</span>
</span></span><span class=line><span class=cl>            <span class=k>let</span> <span class=nx>l</span>:<span class=nx>findWinId</span><span class=p>=</span><span class=nx>win_getid</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>findWinNum</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>win_execute</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>findWinId</span><span class=p>,</span> <span class=s2>&#34;normal! &#34;</span>.<span class=nx>a</span>:<span class=nx>direction</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>win_execute</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>findWinId</span><span class=p>,</span> <span class=s2>&#34;let t:findPreviewPath=getline(&#39;.&#39;)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>FindJump</span><span class=p>(</span><span class=nx>t</span>:<span class=nx>findPreviewPath</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>FindJump</span><span class=p>(</span><span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>endif</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; imitate &#39;cNext&#39;</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindNext</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>FindShow</span><span class=p>(</span><span class=s2>&#34;+&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; imitate &#39;cprevious&#39;</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>FindPre</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>FindShow</span><span class=p>(</span><span class=s2>&#34;-&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>down</span><span class=p>&gt;</span> :<span class=nx>call</span> <span class=nx>FindNext</span><span class=p>()&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>up</span><span class=p>&gt;</span> :<span class=nx>call</span> <span class=nx>FindPre</span><span class=p>()&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Global Fuzzy Match words -------------------------------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c>&#34; Go to the file on line</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgJump</span><span class=p>(</span><span class=nx>location</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;cd &#34;</span>.<span class=nx>g</span>:<span class=nx>rgRootDir</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>location</span> <span class=p>=</span> <span class=nx>split</span><span class=p>(</span><span class=nx>a</span>:<span class=nx>location</span><span class=p>,</span> <span class=s2>&#34;:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=nx>t</span>:<span class=nx>redirPreviewWinnr</span>.<span class=s2>&#34;wincmd w&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;edit &#34;</span>.<span class=nx>l</span>:<span class=nx>location</span>[<span class=m>0</span>]
</span></span><span class=line><span class=cl>    <span class=nx>cal</span> <span class=nx>cursor</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>location</span>[<span class=m>1</span>]<span class=p>,</span> <span class=nx>l</span>:<span class=nx>location</span>[<span class=m>2</span>]<span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; autocmd to jump to file with CR only in RipgrepWordSearch buffer</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgJumpWithCR</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>augroup</span> <span class=nx>rgJumpWithCR</span>
</span></span><span class=line><span class=cl>        <span class=k>autocmd</span><span class=p>!</span>
</span></span><span class=line><span class=cl>        <span class=k>autocmd</span> <span class=nx>FileType</span> <span class=nx>RipgrepWordSearch</span> <span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>buffer</span><span class=p>&gt;&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>CR</span><span class=p>&gt;</span> :<span class=nx>call</span> <span class=nx>RgJump</span><span class=p>(</span><span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>))&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>augroup</span> <span class=nx>END</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; redirect the command output to a buffer</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgRedir</span><span class=p>(</span><span class=nx>cmd</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>RgJumpWithCR</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>OpenRedirWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>edit</span> <span class=nx>RipgrepWordSearch</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;read &#34;</span><span class=nx>a</span>:<span class=nx>cmd</span>
</span></span><span class=line><span class=cl>    <span class=nx>setlocal</span> <span class=nx>buftype</span><span class=p>=</span><span class=nx>nofile</span> <span class=nx>bufhidden</span><span class=p>=</span><span class=nx>wipe</span> <span class=nx>nobuflisted</span> <span class=nx>noswapfile</span> <span class=nx>cursorline</span> <span class=k>filetype</span><span class=p>=</span><span class=nx>RipgrepWordSearch</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>1</span> <span class=p>-</span><span class=nx>complete</span><span class=p>=</span><span class=nx>command</span> <span class=nx>RgRedir</span> <span class=nx>silent</span> <span class=nx>call</span> <span class=nx>RgRedir</span><span class=p>(&lt;</span><span class=nx>q</span><span class=p>-</span><span class=nx>args</span><span class=p>&gt;)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Show Words fuzzily searched with git</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgWithGit</span><span class=p>(</span><span class=nx>substr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;RgRedir !rg &#39;&#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>.<span class=s2>&#34;&#39; &#34;</span>.<span class=nx>getcwd</span><span class=p>()</span>.<span class=s2>&#34; --ignore-case --vimgrep --no-heading&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;normal! gg&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span> <span class=p>==</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=s2>&#34;normal! dd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>feedkeys</span><span class=p>(</span><span class=s2>&#34;/&#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>.<span class=s2>&#34;\\c\&lt;CR&gt;&#34;</span> <span class=p>,</span><span class=s1>&#39;n&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Show Files fuzzily searched without git</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgWithoutGit</span><span class=p>(</span><span class=nx>substr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;RgRedir !rg &#39;&#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>.<span class=s2>&#34;&#39; &#34;</span>.<span class=nx>getcwd</span><span class=p>()</span>.<span class=s2>&#34; --ignore-case --vimgrep --no-heading --no-ignore&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span> <span class=s2>&#34;normal! gg&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span> <span class=p>==</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>exec</span> <span class=s2>&#34;normal! dd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>feedkeys</span><span class=p>(</span><span class=s2>&#34;/&#34;</span>.<span class=nx>a</span>:<span class=nx>substr</span>.<span class=s2>&#34;\\c\&lt;CR&gt;&#34;</span> <span class=p>,</span><span class=s1>&#39;n&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Wg means &#39;word git&#39;, search file fuzzily names with git</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>1</span> <span class=p>-</span><span class=nx>complete</span><span class=p>=</span><span class=nx>command</span> <span class=nx>Wg</span> <span class=nx>silent</span> <span class=nx>call</span> <span class=nx>RgWithGit</span><span class=p>(&lt;</span><span class=nx>q</span><span class=p>-</span><span class=nx>args</span><span class=p>&gt;)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Ws means &#39;word search&#39;, search file fuzzily names without git</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>1</span> <span class=p>-</span><span class=nx>complete</span><span class=p>=</span><span class=nx>command</span> <span class=nx>Ws</span> <span class=nx>silent</span><span class=p>!</span> <span class=nx>call</span> <span class=nx>RgWithoutGit</span><span class=p>(&lt;</span><span class=nx>q</span><span class=p>-</span><span class=nx>args</span><span class=p>&gt;)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; To show file preview, underlying of RgNext, imitate &#39;cNext&#39; command</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgShow</span><span class=p>(</span><span class=nx>direction</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>let</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span><span class=p>=</span><span class=nx>bufwinnr</span><span class=p>(</span><span class=nx>bufnr</span><span class=p>(</span><span class=s1>&#39;RipgrepWordSearch&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span> <span class=p>==</span> <span class=m>-1</span>
</span></span><span class=line><span class=cl>        <span class=nx>echo</span> <span class=s2>&#34;&gt;&gt; No RipgrepWordSearch Buffer!&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nx>l</span>:<span class=nx>rgWinNum</span> <span class=p>!=</span> <span class=nx>t</span>:<span class=nx>redirPreviewWinnr</span>
</span></span><span class=line><span class=cl>            <span class=k>let</span> <span class=nx>l</span>:<span class=nx>rgWinId</span><span class=p>=</span><span class=nx>win_getid</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>rgWinNum</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>win_execute</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>rgWinId</span><span class=p>,</span> <span class=s2>&#34;normal! &#34;</span>.<span class=nx>a</span>:<span class=nx>direction</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>win_execute</span><span class=p>(</span><span class=nx>l</span>:<span class=nx>rgWinId</span><span class=p>,</span> <span class=s2>&#34;let t:rgPreviewLocation=getline(&#39;.&#39;)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>RgJump</span><span class=p>(</span><span class=nx>t</span>:<span class=nx>rgPreviewLocation</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>            <span class=nx>call</span> <span class=nx>RgJump</span><span class=p>(</span><span class=nx>getline</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>endif</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; imitate &#39;cNext&#39;</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgNext</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>RgShow</span><span class=p>(</span><span class=s2>&#34;+&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; imitate &#39;cprevious&#39;</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>RgPre</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>RgShow</span><span class=p>(</span><span class=s2>&#34;-&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>S</span><span class=p>-</span><span class=nx>down</span><span class=p>&gt;</span> :<span class=nx>call</span> <span class=nx>RgNext</span><span class=p>()&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>S</span><span class=p>-</span><span class=nx>up</span><span class=p>&gt;</span> :<span class=nx>call</span> <span class=nx>RgPre</span><span class=p>()&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <a href=https://github.com/HCY-ASLEEP/NVIM-Config/tree/main>https://github.com/HCY-ASLEEP/NVIM-Config/tree/main</a></p></li></ul></li></ol></br><h3 id=4-ripgrep-åœ¨çº¿ä½¿ç”¨æ‰‹å†Œ>4. Ripgrep åœ¨çº¿ä½¿ç”¨æ‰‹å†Œ<a hidden class=anchor aria-hidden=true href=#4-ripgrep-åœ¨çº¿ä½¿ç”¨æ‰‹å†Œ>#</a></h3><ul><li><p>ä¸€äº›ç®€å•çš„ä¾‹å­è¯´æ˜ï¼š</p><p>ğŸ‘‰ <a href=https://jdhao.github.io/2020/02/16/ripgrep_cheat_sheet/>https://jdhao.github.io/2020/02/16/ripgrep_cheat_sheet/</a></p></li><li><p>rg åœ¨çº¿ man æ‰‹å†Œï¼Œæ²¡æœ‰ä¾‹å­ï¼š</p><p>ğŸ‘‰ <a href=https://www.mankier.com/1/rg>https://www.mankier.com/1/rg</a></p></li><li><p>é¡ºä¾¿æä¸€ä¸‹é˜²æ­¢æˆ‘ä»¥åå¿˜è®°ï¼Œå¦‚æœæƒ³ rg æœç´¢ç»“æœé‡Œé¢åŒ…å«éšè—æ–‡ä»¶ï¼ˆä»¥ &lsquo;.&rsquo; å¼€å¤´çš„æ–‡ä»¶ï¼‰ï¼Œä½¿ç”¨ &ndash;hidden å‚æ•°å°±å¯ä»¥äº†</p></li></ul></br><h3 id=5-where-is-neovims-viminfo-located>5. Where is neovim&rsquo;s .viminfo located?<a hidden class=anchor aria-hidden=true href=#5-where-is-neovims-viminfo-located>#</a></h3><p>vim çš„å†å²å‘½ä»¤æ–‡ä»¶ä½äº ~/.viminfo ï¼Œè€Œ neovim çš„ä½äº</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>~/local/share/nvim/shada/main.shada
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <a href=https://www.reddit.com/r/neovim/comments/5con51/where_is_neovims_viminfo_located/>https://www.reddit.com/r/neovim/comments/</a></p></br><h3 id=6-è®¾ç½®-netrw-çš„å·¥ä½œç›®å½•root-dir>6. è®¾ç½® netrw çš„å·¥ä½œç›®å½•(root dir)<a hidden class=anchor aria-hidden=true href=#6-è®¾ç½®-netrw-çš„å·¥ä½œç›®å½•root-dir>#</a></h3><p>How to set selected directory as current in vim (netrw)? åªéœ€è¦æŠŠå…‰æ ‡æ”¾åœ¨ netrw é‡Œé¢ä½ æƒ³è®¾ç½®çš„ç›®å½•ä¸‹é¢ï¼Œç„¶åæ‰§è¡Œ :Ntree å‘½ä»¤å°±è¡Œ</p><p>ğŸ‘‰ <a href=https://stackoverflow.com/questions/33542513/how-to-set-selected-directory-as-current-in-vim-netrw>https://stackoverflow.com/questions/33542513/</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://hcy-asleep.github.io/tags/VIM/>VIM</a></li></ul><nav class=paginav><a class=prev href=https://hcy-asleep.github.io/%E4%B8%BA-xv6-riscv-%E7%A7%BB%E6%A4%8D%E6%89%AB%E9%9B%B7minesweeper-2048-%E4%BB%A5%E5%8F%8A%E9%9D%9E%E5%B8%B8%E7%AE%80%E5%8D%95%E7%9A%84-sl/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>ä¸º xv6-riscv ç§»æ¤æ‰«é›·(minesweeper) 2048 ä»¥åŠéå¸¸ç®€å•çš„ sl</span>
</a><a class=next href=https://hcy-asleep.github.io/Git-%E5%88%97%E5%87%BA%E9%99%A4%E4%BA%86-.gitignore-%E4%BB%A5%E5%A4%96%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6%E5%8C%85%E6%8B%AC-tracked-%E5%92%8C-untracked-%E7%9A%84/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>Git åˆ—å‡ºé™¤äº† .gitignore ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬ tracked å’Œ untracked çš„ï¼‰</span></a></nav></footer></br></br><script src=https://giscus.app/client.js data-repo=HCY-ASLEEP/HCY-ASLEEP.github.io data-repo-id=R_kgDOISFjNg data-category=Announcements data-category-id=DIC_kwDOISFjNs4CUJyb data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://hcy-asleep.github.io/>Memos</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>