<!doctype html><html lang=zh dir=auto><head><meta name=generator content="Hugo 0.138.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Memos</title>
<meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="Welcome"><meta name=author content="HCY"><link rel=canonical href=https://hcy-asleep.github.io/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.81104d68cf67948a03e03f86b94385736d74fc52ccdc97d49676eebfc038e16b.css integrity="sha256-gRBNaM9nlIoD4D+GuUOFc210/FLM3JfUlnbuv8A44Ws=" rel="preload stylesheet" as=style><link rel=icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=apple-touch-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=mask-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://hcy-asleep.github.io/index.xml><link rel=alternate type=application/json href=https://hcy-asleep.github.io/index.json><link rel=alternate hreflang=zh href=https://hcy-asleep.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@media screen and (min-width:1px){.post-content input[type=checkbox]:checked~label>img{transform:scale(1.6);cursor:zoom-out;position:relative;z-index:999}.post-content img.zoomCheck{transition:transform .15s ease;z-index:999;cursor:zoom-in}}</style><meta property="og:title" content="Memos"><meta property="og:description" content="Welcome"><meta property="og:type" content="website"><meta property="og:url" content="https://hcy-asleep.github.io/"><meta property="og:image" content="https://hcy-asleep.github.io/"><meta property="og:site_name" content="HCY-BLOGS"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hcy-asleep.github.io/"><meta name=twitter:title content="Memos"><meta name=twitter:description content="Welcome"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Memos","url":"https://hcy-asleep.github.io/","description":"Welcome","thumbnailUrl":"https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png","sameAs":["https://github.com/HCY-ASLEEP","mailto:2420066864@qq.com"]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://hcy-asleep.github.io/ accesskey=h title="主页 (Alt + H)">主页</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://hcy-asleep.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://hcy-asleep.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://hcy-asleep.github.io/categories/ title=目录><span>目录</span></a></li><li><a href=https://hcy-asleep.github.io/friends/ title=友链><span>友链</span></a></li><li><a href=https://hcy-asleep.github.io/about/ title=关于><span>关于</span></a></li><li><a href=https://hcy-asleep.github.io/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hʌllo~ 👋</h1></header><div class=entry-content>Welcome to my blog</div><footer class=entry-footer><div class=social-icons><a href=https://github.com/HCY-ASLEEP target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=mailto:2420066864@qq.com target=_blank rel="noopener noreferrer me" title=Email><svg viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>性能分析备忘录</h2></header><div class=entry-content><p>Perf Debian 安装 perf 1 sudo apt install linux-perf 收集分支预测事件 1 perf stat -e branch-instructions,branch-misses &lt;your_program> branch-instructions：分支指令的总数 branch-misses：分支预测失败的次数 1 hit_rate = 1 - branch-misses / branch-instructions //命中率 以下是一个包含多个复杂分支跳转的 C 语言程序示例。这个程序包含了多层嵌套的条件判断、循环和函数调用，以演示复杂的分支逻辑
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 #include &lt;stdio.h> #include &lt;stdlib.h> #include &lt;time.h> // 模拟复杂条件的函数 int complex_condition(int x) { if (x % 2 == 0) { if (x % 3 == 0) { return 1; // 可被2和3整除 } else { if (x % 5 == 0) { return 2; // 可被2和5整除 } else { return 3; // 可被2整除，但不能被3或5整除 } } } else { if (x % 7 == 0) { return 4; // 可被7整除 } else { return 5; // 不能被2或7整除 } } } // 递归函数，模拟复杂的分支跳转 int recursive_function(int depth) { if (depth &lt;= 0) { return 0; } else { if (depth % 2 == 0) { return depth * recursive_function(depth - 1); } else { return depth + recursive_function(depth - 1); } } } // 主函数，包含多重循环和分支判断 int main() { srand(time(NULL)); // 用当前时间作为随机数种子 // 模拟分支跳转 for (int i = 0; i &lt; 20; i++) { int rand_num = rand() % 100 + 1; // 生成1到100之间的随机数 int result = complex_condition(rand_num); switch (result) { case 1: printf("Number %d is divisible by 2 and 3.\n", rand_num); break; case 2: printf("Number %d is divisible by 2 and 5.\n", rand_num); break; case 3: printf("Number %d is divisible by 2, but not by 3 or 5.\n", rand_num); break; case 4: printf("Number %d is divisible by 7.\n", rand_num); break; case 5: printf("Number %d is not divisible by 2 or 7.\n", rand_num); break; default: printf("Unexpected result for number %d.\n", rand_num); break; } } // 递归调用，模拟更复杂的分支 int depth = rand() % 10 + 1; printf("\nRecursive function result for depth %d: %d\n", depth, recursive_function(depth)); return 0; } 编译之后，使用 perf 进行分支预测事件统计得到结果：
...</p></div><footer class=entry-footer><span title='2024-11-06 17:31:59 +0000 UTC'>十一月 6, 2024</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;1105 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to 性能分析备忘录" href=https://hcy-asleep.github.io/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%A4%87%E5%BF%98%E5%BD%95/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>SoK: Sanitizing for Security 论文结构梳理</h2></header><div class=entry-content><p>Abstract I. Inctrodcution II. Exploit Mitigations vs. Sanitizers III. Low-Level Vulnerabilities A. Memory Safety Violations (1) Spatial Safety Violatoins (2) Temporal Safety Violations B. Use of Uninitialized Variables C. Pointer Type Errors D. Variadic Function Misuse E. Other Vulnerabilities IV. Bug Finding Techiques A. Memory Safety Violations Location-based Access Checkers Identity-based Access Checkers (1) Spatial Memory Safety Violations Red-zone Insertion Guard Pages Per-pointer Bounds Tracking Per-object Bounds Tracking (2) Temporal Memory Safety Violations Reuse Delay Lock-and-key Dangling Pointer Tagging B. Use of Uninitailized Variables Uninitailized Memory Read Detection Uninitialized Value Use Dectection C. Pointer Type Errors Pointer Casting Monitor Pointer Use Monitor D. Variadic Function Misuse Dangerous Format String Detection Argument Mismatch Detection E. Other Vulnerabilities V. Program Instumentation A. Language-level Instrumentation B. IR-level Instrumentation C. Binary Instrumentation D. Library Interposition VI. Metadata Management A. Object Metadata Embedded Metadata Direct-mapped Shadow Multi-level Shadow Custom Data Structure B. Pointer Metadata Fat Pointers Tagged Pointers Disjoint Metadata C. Static Metadata VII. Driving A Sanitizer VIII. Analysis A. False Positives B. False Negatives C. Incomplete Instrumentation D. Tread Safety E. Performance Overhead F. Memory Overhead IX. Deployment A. Methodology Popular Github repositories Sanitizer web pages Search trends B. Findings AddressSanitizer is the most widely adopted sanitizer The adoption rate for other LLVM-based sanitizers is lower C. Deployment Directions X. Future Research And Development Directions A. Type Error Detection B. Improving Compatibility C. Composing Sanitizers D. Hardware Support E. Kernel and Bare-Metal Support XI. Conclusion</p></div><footer class=entry-footer><span title='2024-10-22 16:30:00 +0000 UTC'>十月 22, 2024</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;241 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to SoK: Sanitizing for Security 论文结构梳理" href=https://hcy-asleep.github.io/SoK-Sanitizing-for-Security-%E8%AE%BA%E6%96%87%E7%BB%93%E6%9E%84%E6%A2%B3%E7%90%86/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>使用 C++ 理解 23 种设计模式</h2></header><div class=entry-content><p>开一个坑，使用C++实现23种设计模式</p></div><footer class=entry-footer><span title='2024-10-09 16:22:13 +0000 UTC'>十月 9, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;1 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to 使用 C++ 理解 23 种设计模式" href=https://hcy-asleep.github.io/%E4%BD%BF%E7%94%A8-C-%E7%90%86%E8%A7%A3-23-%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Debian Gnome 修改默认目录</h2></header><div class=entry-content><p>我在 askbuntu 里面找到了答案：
Change default user folders path
具体做法：
1 vi ~/.config/user-dirs.dirs 以下是我的配置：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # This file is written by xdg-user-dirs-update # If you want to change or add directories, just edit the line you're # interested in. All local changes will be retained on the next run. # Format is XDG_xxx_DIR="$HOME/yyy", where yyy is a shell-escaped # homedir-relative path, or XDG_xxx_DIR="/yyy", where /yyy is an # absolute path. No other format is supported. # XDG_DESKTOP_DIR="/home/hcy/Desktop/" XDG_DOWNLOAD_DIR="/home/hcy/Downloads/" XDG_TEMPLATES_DIR="/home/hcy/Templates/" XDG_PUBLICSHARE_DIR="/home/hcy/Public/" XDG_DOCUMENTS_DIR="/home/hcy/Documents/" XDG_MUSIC_DIR="/home/hcy/Music/" XDG_PICTURES_DIR="/home/hcy/Pictures/" XDG_VIDEOS_DIR="/home/hcy/Videos/"</p></div><footer class=entry-footer><span title='2024-01-23 11:40:20 +0800 +0800'>一月 23, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;97 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to Debian Gnome 修改默认目录" href=https://hcy-asleep.github.io/Debian-Gnome-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%9B%AE%E5%BD%95/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Debian 安装 Flameshot 和迅雷以及 Neovim 剪切板</h2></header><div class=entry-content><p>Flameshot 直接从仓库安装 flameshot
1 sudo apt install flameshot 要在 Wayland 下面可以复制粘贴图片还需安装：
1 sudo apt install xdg-desktop-portal xdg-desktop-portal-kde wl-clipboard 为了让 flameshot 在 wayland 和 x11 下都可以使用剪切板，可以编写一个小脚本：
1 2 3 4 5 if [[ $XDG_SESSION_TYPE == "wayland" ]] || [[ -n $WAYLAND_DISPLAY ]]; then flameshot gui -c --raw | wl-copy else flameshot gui -c fi 将这一个脚本压缩为一行：
1 [[ $XDG_SESSION_TYPE == "wayland" ]] || [[ -n $WAYLAND_DISPLAY ]] && flameshot gui -c --raw | wl-copy || flameshot gui -c Flameshot 的 GitHub 仓库 Issue 里面有讨论这个问题
1 https://github.com/flameshot-org/flameshot/issues/2848 Neovim 剪切板 和上面的 Flameshot 需要 wl-clipboard 一样，在 X11 环境里面也需要：
...</p></div><footer class=entry-footer><span title='2024-01-07 07:07:48 +0000 UTC'>一月 7, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;116 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to Debian 安装 Flameshot 和迅雷以及 Neovim 剪切板" href=https://hcy-asleep.github.io/Debian-%E5%AE%89%E8%A3%85-Flameshot-%E5%92%8C%E8%BF%85%E9%9B%B7%E4%BB%A5%E5%8F%8A-Neovim-%E5%89%AA%E5%88%87%E6%9D%BF/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://hcy-asleep.github.io/page/2/>下一页&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://hcy-asleep.github.io/>Memos</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>