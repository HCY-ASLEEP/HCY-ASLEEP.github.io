<!doctype html><html lang=zh dir=auto><head><meta name=generator content="Hugo 0.138.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Memos</title>
<meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="Welcome"><meta name=author content="HCY"><link rel=canonical href=https://hcy-asleep.github.io/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bbe7c693ba1e57651eda5c9f7653fe0f608bca43c4b67d413bde2747e48dd912.css integrity="sha256-u+fGk7oeV2Ue2lyfdlP+D2CLykPEtn1BO94nR+SN2RI=" rel="preload stylesheet" as=style><link rel=icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=apple-touch-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><link rel=mask-icon href=https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://hcy-asleep.github.io/index.xml><link rel=alternate type=application/json href=https://hcy-asleep.github.io/index.json><link rel=alternate hreflang=zh href=https://hcy-asleep.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@media screen and (min-width:1px){.post-content input[type=checkbox]:checked~label>img{transform:scale(1.6);cursor:zoom-out;position:relative;z-index:999}.post-content img.zoomCheck{transition:transform .15s ease;z-index:999;cursor:zoom-in}}</style><meta property="og:title" content="Memos"><meta property="og:description" content="Welcome"><meta property="og:type" content="website"><meta property="og:url" content="https://hcy-asleep.github.io/"><meta property="og:image" content="https://hcy-asleep.github.io/"><meta property="og:site_name" content="HCY-BLOGS"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hcy-asleep.github.io/"><meta name=twitter:title content="Memos"><meta name=twitter:description content="Welcome"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Memos","url":"https://hcy-asleep.github.io/","description":"Welcome","thumbnailUrl":"https://raw.githubusercontent.com/HCY-ASLEEP/picture-bed/main/picture-bed/hcy_site_favicon.png","sameAs":["https://github.com/HCY-ASLEEP","mailto:2420066864@qq.com"]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://hcy-asleep.github.io/ accesskey=h title="主页 (Alt + H)">主页</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://hcy-asleep.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://hcy-asleep.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://hcy-asleep.github.io/categories/ title=目录><span>目录</span></a></li><li><a href=https://hcy-asleep.github.io/friends/ title=友链><span>友链</span></a></li><li><a href=https://hcy-asleep.github.io/about/ title=关于><span>关于</span></a></li><li><a href=https://hcy-asleep.github.io/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hʌllo~ 👋</h1></header><div class=entry-content>Welcome to my blog</div><footer class=entry-footer><div class=social-icons><a href=https://github.com/HCY-ASLEEP target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=mailto:2420066864@qq.com target=_blank rel="noopener noreferrer me" title=Email><svg viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>SPEC CPU2006安装使用避坑</h2></header><div class=entry-content><p>安装 网上找到的版本应该是这个speccpu2006-v1.0.1-newest.tar，在想要安装的目录下执行tar -xvf speccpu2006-v1.0.1-newest.tar就可以解压安装 进入到目录里面cd speccpu2006-v1.0.1 安装 spec ，./install.sh，如果安装出现错误，极有可能是有一些文件没有可执行文件，递归赋予可执行文件就行chmod -R a+x .，不会有问题的 安装完成之后执行./shrc激活spec环境（以后每次重新打开一个 shell 会话的时候都需要激活一下） SPEC 基本概念 构成 SPEC有两个部分组成，一个是数据，一个是代码（代码以项目的方式组织），运行需要指定数据以及项目 数据有三个规格 test（小型） train（中型） ref（大型） 代码有以下选项 int（整型运算性能） float，也叫 fp（浮点运算性能） all_c（全部 c 项目） all_cpp（全部 cpp 项目） all（全部项目） 特定项目，比如 453.povray 编译标准 C 语言要使用 -std=gnu89 CPP 要使用 -std=c++98 如果要启用 address sanitizer，要注意防止 sanitizer 检测到错误的时候 abort 程序而导致 benchmark 提前终止，需要使用以下编译选项 1 -fsanitize=address -fsanitize-recover=address 并且要注入环境变量ASAN_OPTIONS=halt_on_error=0:detect_leaks=0 运行模式 spec 有两种运行模式，一个是 base ，基本模式，一般使用这个，一个是 peak ，性能模式，测试峰值性能极限
Fortran 错误 由于某些项目是有部分使用 fortran 来实现的，所以如果没有安装 gfortran 的时候可能会导致其编译不了，解决方法有二 安装 gfortran 让 FC=echo ，相当于直接告诉它不要编译这部分了，浪费时间的 日志位置 运行完成之后在安装底层目录的 result 文件夹下可以看到运行日志以及结果 看结尾 以 log 结尾的文件是一个完整运行日志，包括编译输出，运行输出，以及结果归纳 以其他文件类型后缀结尾的都是测试结果归纳，只不过文件格式不一样，内容一样的，一般看txt就行 看开头 CINT 表示使用 C/C++ 编写的 int benchmark CFP 表示使用 C/C++ 编写的 float benchmark 看中间 中间是一个编号，遵循以时间为递增的规律 另外在每个项目的文件下也会有单独的编译日志以及运行日志，例如 ls ./benchspec/CPU2006/400.perlbench/run/build_base_1.0000/这个目录下可以看到编译日志 如果这个项目编译出错了，可以在这个目录下找到make.err日志 ls ./benchspec/CPU2006/400.perlbench/run/run_base_test_1.0000/这个目录下可以看到运行日志 看日志 有时候 spec 自带的结果汇总会不完整，因为有些程序有可能被 asan 终止之后在拉起就不被计分了，所有有时候得去日志里面翻找成功运行项目案例的运行时间，在上面提到的那个完整日志里面全局搜索关键字 success 就可以了（忽略大小写）
...</p></div><footer class=entry-footer><span title='2024-11-17 21:34:26 +0000 UTC'>十一月 17, 2024</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;1267 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to SPEC CPU2006安装使用避坑" href=https://hcy-asleep.github.io/SPEC-CPU2006%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E9%81%BF%E5%9D%91/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Online LaTex2HTML Converter By Mathjax</h2></header><div class=entry-content><p>Enter LaTeX Formula 👇 Generated HTML Code 👇 🖱️👉 copy code 👈🖱️</p></div><footer class=entry-footer><span title='2024-11-08 14:44:13 +0000 UTC'>十一月 8, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;12 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to Online LaTex2HTML Converter By Mathjax" href=https://hcy-asleep.github.io/Online-LaTex2HTML-Converter-By-Mathjax/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>性能分析备忘录</h2></header><div class=entry-content><p>Perf Debian 安装 perf 1 sudo apt install linux-perf 收集分支预测事件 1 perf stat -e branch-instructions,branch-misses &lt;your_program> branch-instructions：分支指令的总数 branch-misses：分支预测失败的次数 1 hit_rate = 1 - branch-misses / branch-instructions //命中率 以下是一个包含多个复杂分支跳转的 C 语言程序示例。这个程序包含了多层嵌套的条件判断、循环和函数调用，以演示复杂的分支逻辑
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 #include &lt;stdio.h> #include &lt;stdlib.h> #include &lt;time.h> // 模拟复杂条件的函数 int complex_condition(int x) { if (x % 2 == 0) { if (x % 3 == 0) { return 1; // 可被2和3整除 } else { if (x % 5 == 0) { return 2; // 可被2和5整除 } else { return 3; // 可被2整除，但不能被3或5整除 } } } else { if (x % 7 == 0) { return 4; // 可被7整除 } else { return 5; // 不能被2或7整除 } } } // 递归函数，模拟复杂的分支跳转 int recursive_function(int depth) { if (depth &lt;= 0) { return 0; } else { if (depth % 2 == 0) { return depth * recursive_function(depth - 1); } else { return depth + recursive_function(depth - 1); } } } // 主函数，包含多重循环和分支判断 int main() { srand(time(NULL)); // 用当前时间作为随机数种子 // 模拟分支跳转 for (int i = 0; i &lt; 20; i++) { int rand_num = rand() % 100 + 1; // 生成1到100之间的随机数 int result = complex_condition(rand_num); switch (result) { case 1: printf("Number %d is divisible by 2 and 3.\n", rand_num); break; case 2: printf("Number %d is divisible by 2 and 5.\n", rand_num); break; case 3: printf("Number %d is divisible by 2, but not by 3 or 5.\n", rand_num); break; case 4: printf("Number %d is divisible by 7.\n", rand_num); break; case 5: printf("Number %d is not divisible by 2 or 7.\n", rand_num); break; default: printf("Unexpected result for number %d.\n", rand_num); break; } } // 递归调用，模拟更复杂的分支 int depth = rand() % 10 + 1; printf("\nRecursive function result for depth %d: %d\n", depth, recursive_function(depth)); return 0; } 编译之后，使用 perf 进行分支预测事件统计得到结果：
...</p></div><footer class=entry-footer><span title='2024-11-06 17:31:59 +0000 UTC'>十一月 6, 2024</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;1105 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to 性能分析备忘录" href=https://hcy-asleep.github.io/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%A4%87%E5%BF%98%E5%BD%95/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>SoK: Sanitizing for Security 论文结构梳理</h2></header><div class=entry-content><p>Abstract I. Inctrodcution II. Exploit Mitigations vs. Sanitizers III. Low-Level Vulnerabilities A. Memory Safety Violations (1) Spatial Safety Violatoins (2) Temporal Safety Violations B. Use of Uninitialized Variables C. Pointer Type Errors D. Variadic Function Misuse E. Other Vulnerabilities IV. Bug Finding Techiques A. Memory Safety Violations Location-based Access Checkers Identity-based Access Checkers (1) Spatial Memory Safety Violations Red-zone Insertion Guard Pages Per-pointer Bounds Tracking Per-object Bounds Tracking (2) Temporal Memory Safety Violations Reuse Delay Lock-and-key Dangling Pointer Tagging B. Use of Uninitailized Variables Uninitailized Memory Read Detection Uninitialized Value Use Dectection C. Pointer Type Errors Pointer Casting Monitor Pointer Use Monitor D. Variadic Function Misuse Dangerous Format String Detection Argument Mismatch Detection E. Other Vulnerabilities V. Program Instumentation A. Language-level Instrumentation B. IR-level Instrumentation C. Binary Instrumentation D. Library Interposition VI. Metadata Management A. Object Metadata Embedded Metadata Direct-mapped Shadow Multi-level Shadow Custom Data Structure B. Pointer Metadata Fat Pointers Tagged Pointers Disjoint Metadata C. Static Metadata VII. Driving A Sanitizer VIII. Analysis A. False Positives B. False Negatives C. Incomplete Instrumentation D. Tread Safety E. Performance Overhead F. Memory Overhead IX. Deployment A. Methodology Popular Github repositories Sanitizer web pages Search trends B. Findings AddressSanitizer is the most widely adopted sanitizer The adoption rate for other LLVM-based sanitizers is lower C. Deployment Directions X. Future Research And Development Directions A. Type Error Detection B. Improving Compatibility C. Composing Sanitizers D. Hardware Support E. Kernel and Bare-Metal Support XI. Conclusion</p></div><footer class=entry-footer><span title='2024-10-22 16:30:00 +0000 UTC'>十月 22, 2024</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;241 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to SoK: Sanitizing for Security 论文结构梳理" href=https://hcy-asleep.github.io/SoK-Sanitizing-for-Security-%E8%AE%BA%E6%96%87%E7%BB%93%E6%9E%84%E6%A2%B3%E7%90%86/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>使用 C++ 理解 23 种设计模式</h2></header><div class=entry-content><p>开一个坑，使用C++实现23种设计模式</p></div><footer class=entry-footer><span title='2024-10-09 16:22:13 +0000 UTC'>十月 9, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;1 字&nbsp;·&nbsp;HCY</footer><a class=entry-link aria-label="post link to 使用 C++ 理解 23 种设计模式" href=https://hcy-asleep.github.io/%E4%BD%BF%E7%94%A8-C-%E7%90%86%E8%A7%A3-23-%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://hcy-asleep.github.io/page/2/>下一页&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://hcy-asleep.github.io/>Memos</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>